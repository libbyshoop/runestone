


<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Iteration Revisited &mdash; How to Think like a Computer Scientist: Interactive Edition</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/edu-python.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme/default.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/simplemodal.js"></script>
    <script type="text/javascript" src="../_static/jquery.textarea.js"></script>
    <script type="text/javascript" src="../_static/edu-python.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/skulpt.js"></script>
    <script type="text/javascript" src="../_static/builtin.js"></script>
    <script type="text/javascript" src="../_static/assess.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="How to Think like a Computer Scientist: Interactive Edition" href="../index.html" />
    <link rel="next" title="Experimenting With the 3n+1 Sequence" href="../Labs/sequencelab.html" />
    <link rel="prev" title="Approximating the Value of Pi" href="../Labs/montepi.html" />
<script type="text/javascript"> 
eBookConfig = {}
eBookConfig.host = 'http://141.140.167.226:8000' ? 'http://141.140.167.226:8000' : 'http://127.0.0.1:8000',
eBookConfig.app = eBookConfig.host+'/courselib',
eBookConfig.ajaxURL = eBookConfig.app+'/ajax/',
eBookConfig.course = 'COMP123F12-01',
eBookConfig.logLevel = 10,
eBookConfig.loginRequired = true
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../Labs/sequencelab.html" title="Experimenting With the 3n+1 Sequence"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Labs/montepi.html" title="Approximating the Value of Pi"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">How to Think Like a Computer Scientist</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/courselib/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Iteration Revisited</a><ul>
<li><a class="reference internal" href="#the-for-loop-revisited">The <tt class="docutils literal"><span class="pre">for</span></tt> loop revisited</a></li>
<li><a class="reference internal" href="#the-while-statement">The <tt class="docutils literal"><span class="pre">while</span></tt> Statement</a></li>
<li><a class="reference internal" href="#randomly-walking-turtles">Randomly Walking Turtles</a></li>
<li><a class="reference internal" href="#the-3n-1-sequence">The 3n + 1 Sequence</a></li>
<li><a class="reference internal" href="#newton-s-method">Newton&#8217;s Method</a></li>
<li><a class="reference internal" href="#algorithms-revisited">Algorithms Revisited</a></li>
<li><a class="reference internal" href="#simple-tables">Simple Tables</a></li>
<li><a class="reference internal" href="#dimensional-iteration-image-processing">2-Dimensional Iteration: Image Processing</a><ul>
<li><a class="reference internal" href="#the-rgb-color-model">The RGB Color Model</a></li>
<li><a class="reference internal" href="#image-objects">Image Objects</a></li>
<li><a class="reference internal" href="#image-processing-and-nested-iteration">Image Processing and Nested Iteration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#glossary">Glossary</a></li>
<li><a class="reference internal" href="#exercises">Exercises</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../Labs/montepi.html"
                        title="previous chapter">Approximating the Value of Pi</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../Labs/sequencelab.html"
                        title="next chapter">Experimenting With the 3n+1 Sequence</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/MoreAboutIteration/moreiteration.txt"
           rel="nofollow">Show Source</a></li>
  </ul><!--<div id="runestonebox">
  <h3>Runestone Links</h3>
  <ul>
    <li>
      <a href="https://github.com/bnmnetp/runestone/issues/new">Report a Problem</a>
    </li>
    <li>
      <a href="http://runestoneinteractive.org">About Runestone</a>
    </li>
    <li>
      <a href="/courselib/admin/index">Instructors Page</a>
    </li>
  </ul>
</div>
-->
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="iteration-revisited">
<h1>Iteration Revisited<a class="headerlink" href="#iteration-revisited" title="Permalink to this headline">¶</a></h1>
<span class="target" id="index-0"></span><p id="index-1">Computers are often used to automate repetitive tasks. Repeating identical or
similar tasks without making errors is something that computers do well and
people do poorly.</p>
<p>Repeated execution of a sequence of statements is called <strong>iteration</strong>.  Because
iteration is so common, Python provides several language features to make it
easier. We&#8217;ve already seen the <tt class="docutils literal"><span class="pre">for</span></tt> statement in Chapter 3.  This is a very common
form of iteration in Python. In this chapter
we are also going to look at the <tt class="docutils literal"><span class="pre">while</span></tt> statement &#8212; another way to have your
program do iteration.</p>
<div class="admonition-scratch-editor admonition">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_1" onclick="createActiveCode('scratch_7_1',''); $('#butt_scratch_7_1').hide();">Open Editor</button>
<div id="scratch_7_1"></div>
<br />
</div></div>
<div class="section" id="the-for-loop-revisited">
<span id="index-2"></span><h2>The <tt class="docutils literal"><span class="pre">for</span></tt> loop revisited<a class="headerlink" href="#the-for-loop-revisited" title="Permalink to this headline">¶</a></h2>
<p>Recall that the <tt class="docutils literal"><span class="pre">for</span></tt> loop processes each item in a list.  Each item in
turn is (re-)assigned to the loop variable, and the body of the loop is executed.
We saw this example in an earlier chapter.</p>

<div id="ch07_for1" >
<textarea cols="50" rows="12" id="ch07_for1_code" class="active_code">
for f in ["Joe", "Amy", "Brad", "Angelina", "Zuki", "Thandi", "Paris"]:
    invitation = "Hi " + f + ".  Please come to my party on Saturday!"
    print(invitation)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (ch07_for1)</span> </p>
<button onclick="runit('ch07_for1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('ch07_for1');">Save</button>
<button class="ac_opt" onclick="requestCode('ch07_for1');">Load</button>
<br />

<canvas id="ch07_for1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="ch07_for1_pre" class="active_out">

</pre>

</div>

<p>We have also seen iteration paired with the update idea to form the accumulator pattern.  For example, to compute
the sum of the first n integers, we could create a for loop using the <tt class="docutils literal"><span class="pre">range</span></tt> to produce the numbers 1 thru n.
Using the accumulator pattern, we can start with a running total and on each iteration, add the current value of the loop
variable.  A function to compute this sum is shown below.</p>

<div id="ch07_summation" >
<textarea cols="50" rows="12" id="ch07_summation_code" class="active_code">
def sumTo(aBound):
    theSum = 0
    for aNumber in range(1, aBound+1):
        theSum = theSum + aNumber

    return theSum

print(sumTo(4))

print(sumTo(1000))

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (ch07_summation)</span> </p>
<button onclick="runit('ch07_summation',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('ch07_summation');">Save</button>
<button class="ac_opt" onclick="requestCode('ch07_summation');">Load</button>
<br />

<canvas id="ch07_summation_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="ch07_summation_pre" class="active_out">

</pre>

</div>

<p>To review, the variable <tt class="docutils literal"><span class="pre">theSum</span></tt> is called the accumulator.  It is initialized to zero before we start the loop.  The loop variable, <tt class="docutils literal"><span class="pre">aNumber</span></tt> will take on the values produced by the <tt class="docutils literal"><span class="pre">range(1,aBound+1)</span></tt> function call.  Note that this produces all the integers starting from 1 up to the value of <tt class="docutils literal"><span class="pre">aBound</span></tt>.  If we had not added 1 to <tt class="docutils literal"><span class="pre">aBound</span></tt>, the range would have stopped one value short since <tt class="docutils literal"><span class="pre">range</span></tt> does not include the upper bound.</p>
<p>The assignment statement, <tt class="docutils literal"><span class="pre">theSum</span> <span class="pre">=</span> <span class="pre">theSum</span> <span class="pre">+</span> <span class="pre">aNumber</span></tt>, updates <tt class="docutils literal"><span class="pre">theSum</span></tt> each time thru the loop.  This accumulates the running total.  Finally, we return the value of the accumulator.</p>
<div class="admonition-scratch-editor admonition">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_2" onclick="createActiveCode('scratch_7_2',''); $('#butt_scratch_7_2').hide();">Open Editor</button>
<div id="scratch_7_2"></div>
<br />
</div></div>
<p><strong>Check your understanding</strong></p>

    <div id="test_question7_2a_1">
    <p>7.2a.1: True or False: You can rewrite any for-loop as a while-loop.</p>
    <form name="test_question7_2a_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_2a_1_opt_a" />
    <label for= "test_question7_2a_1_opt_a">  a) True</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_2a_1_opt_b" />
    <label for= "test_question7_2a_1_opt_b">  b) False</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_2a_1','a',['Although the while loop uses a different syntax, it is just as powerful as a for-loop and often more flexible.', 'Often a for-loop is more natural and convenient for a task, but that same task can always be expressed using a while loop.'])"/> 
    </form>
    <div id="test_question7_2a_1_feedback">
    </div>
    </div>
    
    <div id="test_question7_2a_2">
    <p>7.2a.2: The following code contains an infinite loop.  Which is the best explanation for why the loop does not terminate?
  <pre>
  n = 10
  answer = 1
  while ( n > 0 ):
    answer = answer + n
        n = n + 1
  print answer
  </pre></p>
    <form name="test_question7_2a_2_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_2a_2_opt_a" />
    <label for= "test_question7_2a_2_opt_a">  a) n starts at 10 and is incremented by 1 each time through the loop, so it will always be positive</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_2a_2_opt_b" />
    <label for= "test_question7_2a_2_opt_b">  b) answer starts at 1 and is incremented by n each time, so it will always be positive</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_2a_2_opt_c" />
    <label for= "test_question7_2a_2_opt_c">  c) You cannot compare n to 0 in while loop.  You must compare it to another variable.</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_2a_2_opt_d" />
    <label for= "test_question7_2a_2_opt_d">  d) In the while loop body, we must set n False, and this code does not do that.</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_2a_2','a',['The loop will run as long as n is positive.  In this case, we can see that n will never become non-positive.', 'While it is true that answer will always be positive, answer is not considered in the loop condition.', 'It is perfectly valid to compare n to 0.  Though indirectly, this _is_ what causes the infinite loop.', 'The loop condition must become False for the loop to terminate, but n by itself is not the condition in this case.'])"/> 
    </form>
    <div id="test_question7_2a_2_feedback">
    </div>
    </div>
    </div>
<div class="section" id="the-while-statement">
<h2>The <tt class="docutils literal"><span class="pre">while</span></tt> Statement<a class="headerlink" href="#the-while-statement" title="Permalink to this headline">¶</a></h2>
<a id="whileloop_thumb" > <img src="../_static/whileloop.png" /></a>
<div id="whileloop" class="video_popup" >
<video controls  >
    <source src="http://knuth.luther.edu/~pythonworks/thinkcsVideos/whileloop.mov" type="video/mp4"></source>
    <source src="http://knuth.luther.edu/~pythonworks/thinkcsVideos/whileloop.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#whileloop_thumb').click(function(e) {
         $('#whileloop').show();
         $('#whileloop_thumb').hide();
         logBookEvent({'event':'video','act':'play','div_id': 'whileloop'});
         // Log the run event
      });
   });
</script>
<p>There is another Python statement that can also be used to build an iteration.  It is called the <tt class="docutils literal"><span class="pre">while</span></tt> statement.
The <tt class="docutils literal"><span class="pre">while</span></tt> statement provides a much more general mechanism for iterating.  Similar to the <tt class="docutils literal"><span class="pre">if</span></tt> statement, it uses
a boolean expression to control the flow of execution.  The body of while will be repeated as long as the controlling boolean expression evaluates to <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<p>The following figure shows the flow of control.</p>
<img alt="../_images/while_flow.png" src="../_images/while_flow.png" />
<p>We can use the <tt class="docutils literal"><span class="pre">while</span></tt> loop to create any type of iteration we wish, including anything that we have previously done with a <tt class="docutils literal"><span class="pre">for</span></tt> loop.  For example, the program in the previous section could be rewritten using <tt class="docutils literal"><span class="pre">while</span></tt>.
Instead of relying on the <tt class="docutils literal"><span class="pre">range</span></tt> function to produce the numbers for our summation, we will need to produce them ourselves.  To to this, we will create a variable called <tt class="docutils literal"><span class="pre">aNumber</span></tt> and initialize it to 1, the first number in the summation.  Every iteration will add <tt class="docutils literal"><span class="pre">aNumber</span></tt> to the running total until all the values have been used.
In order to control the iteration, we must create a boolean expression that evaluates to <tt class="docutils literal"><span class="pre">True</span></tt> as long as we want to keep adding values to our running total.  In this case, as long as <tt class="docutils literal"><span class="pre">aNumber</span></tt> is less than or equal to the bound, we should keep going.</p>
<p>Here is a new version of the summation program that uses a while statement.</p>

<div id="ch07_while1" >
<textarea cols="50" rows="12" id="ch07_while1_code" class="active_code">
def sumTo(aBound):
    """ Return the sum of 1+2+3 ... n """

    theSum  = 0
    aNumber = 1
    while aNumber <= aBound:
        theSum = theSum + aNumber
        aNumber = aNumber + 1
    return theSum

print(sumTo(4))

print(sumTo(1000))

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (ch07_while1)</span> </p>
<button onclick="runit('ch07_while1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('ch07_while1');">Save</button>
<button class="ac_opt" onclick="requestCode('ch07_while1');">Load</button>
<br />

<canvas id="ch07_while1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="ch07_while1_pre" class="active_out">

</pre>

</div>

<p>You can almost read the <tt class="docutils literal"><span class="pre">while</span></tt> statement as if it were in natural language. It means,
while <tt class="docutils literal"><span class="pre">aNumber</span></tt> is less than or equal to <tt class="docutils literal"><span class="pre">aBound</span></tt>, continue executing the body of the loop. Within
the body, each time, update <tt class="docutils literal"><span class="pre">theSum</span></tt> using the accumulator pattern and increment <tt class="docutils literal"><span class="pre">aNumber</span></tt>. After the body of the loop, we go back up to the condition of the <tt class="docutils literal"><span class="pre">while</span></tt> and reevaluate it.  When <tt class="docutils literal"><span class="pre">aNumber</span></tt> becomes greater than <tt class="docutils literal"><span class="pre">aBound</span></tt>, the condition fails and flow of control continues to the <tt class="docutils literal"><span class="pre">return</span></tt> statement.</p>
<p>The same program in codelens will allow you to observe the flow of execution.</p>

<table border="1" id="pyOutputPane_ch07_while2" class="pyOutputPane">
<tr>
<td valign="top">
Source Code
<br />

<div id="pyCodeOutputDiv_ch07_while2" class="pyCodeOutputDiv">
<table id="pyCodeOutput_ch07_while2" class="pyCodeOutput"></table>

</div>

<div id="vcrControls_ch07_while2" class="vcrControls">
  <button id="jmpFirstInstr_ch07_while2", type="button">&lt;&lt; First</button>
  <button id="jmpStepBack_ch07_while2", type="button">&lt; Back</button>
  Step <span id="curInstr_ch07_while2">?</span> of <span id="totalInstrs_ch07_while2">?</span>
  <button id="jmpStepFwd_ch07_while2", type="button">Forward &gt;</button>
  <button id="jmpLastInstr_ch07_while2", type="button">Last &gt;&gt;</button>

  <p><span id="warningOutput_ch07_while2" class="warningOutput"></span></p>
</div>
</td></tr>
<tr>
<td valign="top">

<div id="dataViz_ch07_while2"></div>

</td>
</tr>
<tr>
<td>
<div id="errorOutput_ch07_while2" class="errorOutput"></div>

Program output:
<br/>
<pre id="pyStdout_ch07_while2" class="active_out"></pre>
</td>
</tr>
</table>
<p class="cl_caption"><span class="ac_caption_text"> </span></p>


<script type="text/javascript">
$(document).ready(function() {
    myvis = new PythonTutor.Visualizer("def sumTo(aBound):\n    \"\"\" Return the sum of 1+2+3 ... n \"\"\"\n\n    theSum  = 0\n    aNumber = 1\n    while aNumber <= aBound:\n        theSum = theSum + aNumber\n        aNumber = aNumber + 1\n    return theSum\n\nprint(sumTo(4))",[{"globals": {}, "stdout": "", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "<module>", "line": 11, "stack_locals": [], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 1, "stack_locals": [["sumTo", {"aBound": 4}]], "event": "call"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 4, "stack_locals": [["sumTo", {"aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 5, "stack_locals": [["sumTo", {"theSum": 0, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 6, "stack_locals": [["sumTo", {"aNumber": 1, "theSum": 0, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 7, "stack_locals": [["sumTo", {"aNumber": 1, "theSum": 0, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 8, "stack_locals": [["sumTo", {"aNumber": 1, "theSum": 1, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 6, "stack_locals": [["sumTo", {"aNumber": 2, "theSum": 1, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 7, "stack_locals": [["sumTo", {"aNumber": 2, "theSum": 1, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 8, "stack_locals": [["sumTo", {"aNumber": 2, "theSum": 3, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 6, "stack_locals": [["sumTo", {"aNumber": 3, "theSum": 3, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 7, "stack_locals": [["sumTo", {"aNumber": 3, "theSum": 3, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 8, "stack_locals": [["sumTo", {"aNumber": 3, "theSum": 6, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 6, "stack_locals": [["sumTo", {"aNumber": 4, "theSum": 6, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 7, "stack_locals": [["sumTo", {"aNumber": 4, "theSum": 6, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 8, "stack_locals": [["sumTo", {"aNumber": 4, "theSum": 10, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 6, "stack_locals": [["sumTo", {"aNumber": 5, "theSum": 10, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 9, "stack_locals": [["sumTo", {"aNumber": 5, "theSum": 10, "aBound": 4}]], "event": "step_line"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "", "func_name": "sumTo", "line": 9, "stack_locals": [["sumTo", {"__return__": 10, "aNumber": 5, "theSum": 10, "aBound": 4}]], "event": "return"}, {"globals": {"sumTo": ["function", 28, "<function sumTo at 0x461b1b8>"]}, "stdout": "10\n", "func_name": "<module>", "line": 11, "stack_locals": [], "event": "return"}],'ch07_while2');
});

</script>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The names of the variables have been chosen to help readability.</p>
</div>
<p>More formally, here is the flow of execution for a <tt class="docutils literal"><span class="pre">while</span></tt> statement:</p>
<ol class="arabic simple">
<li>Evaluate the condition, yielding <tt class="docutils literal"><span class="pre">False</span></tt> or <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
<li>If the condition is <tt class="docutils literal"><span class="pre">False</span></tt>, exit the <tt class="docutils literal"><span class="pre">while</span></tt> statement and continue
execution at the next statement.</li>
<li>If the condition is <tt class="docutils literal"><span class="pre">True</span></tt>, execute each of the statements in the body and
then go back to step 1.</li>
</ol>
<p>The body consists of all of the statements below the header with the same
indentation.</p>
<p>This type of flow is called a <strong>loop</strong> because the third step loops back around
to the top. Notice that if the condition is <tt class="docutils literal"><span class="pre">False</span></tt> the first time through the
loop, the statements inside the loop are never executed.</p>
<p>The body of the loop should change the value of one or more variables so that
eventually the condition becomes <tt class="docutils literal"><span class="pre">False</span></tt> and the loop terminates. Otherwise the
loop will repeat forever. This is called an <strong>infinite loop</strong>.
An endless
source of amusement for computer scientists is the observation that the
directions on shampoo, lather, rinse, repeat, are an infinite loop.</p>
<p>In the case shown above, we can prove that the loop terminates because we
know that the value of <tt class="docutils literal"><span class="pre">n</span></tt> is finite, and we can see that the value of <tt class="docutils literal"><span class="pre">v</span></tt>
increments each time through the loop, so eventually it will have to exceed <tt class="docutils literal"><span class="pre">n</span></tt>. In
other cases, it is not so easy to tell.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Introduction of the while statement causes us to think about the types of iteration we have seen.  The <tt class="docutils literal"><span class="pre">for</span></tt> statement will always iterate through a sequence of values like the list of names for the party or the list of numbers created by <tt class="docutils literal"><span class="pre">range</span></tt>.  Since we know that it will iterate once for each value in the collection, it is often said that a <tt class="docutils literal"><span class="pre">for</span></tt> loop creates a
<strong>definite iteration</strong> because we definitely know how many times we are going to iterate.  On the other
hand, the <tt class="docutils literal"><span class="pre">while</span></tt> statement is dependent on a condition that needs to evaluate to <tt class="docutils literal"><span class="pre">False</span></tt> in order
for the loop to terminate.  Since we do not necessarily know when this will happen, it creates what we
call <strong>indefinite iteration</strong>.  Indefinite iteration simply means that we don&#8217;t know how many times we will repeat but eventually the condition controlling the iteration will fail and the iteration will stop. (Unless we have an infinite loop which is of course a problem)</p>
</div>
<p>What you will notice here is that the <tt class="docutils literal"><span class="pre">while</span></tt> loop is more work for
you &#8212; the programmer &#8212; than the equivalent <tt class="docutils literal"><span class="pre">for</span></tt> loop.  When using a <tt class="docutils literal"><span class="pre">while</span></tt>
loop you have to control the loop variable yourself.  You give it an initial value, test
for completion, and then make sure you change something in the body so that the loop
terminates.</p>
<p>So why have two kinds of loop if <tt class="docutils literal"><span class="pre">for</span></tt> looks easier?  This next example shows an indefinite iteration where
we need the extra power that we get from the <tt class="docutils literal"><span class="pre">while</span></tt> loop.</p>
<div class="admonition-scratch-editor admonition">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_3" onclick="createActiveCode('scratch_7_3',''); $('#butt_scratch_7_3').hide();">Open Editor</button>
<div id="scratch_7_3"></div>
<br />
</div></div>
<p><strong>Check your understanding</strong></p>

    <div id="test_question7_2_1">
    <p>7.2.1: True or False: You can rewrite any for-loop as a while-loop.</p>
    <form name="test_question7_2_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_2_1_opt_a" />
    <label for= "test_question7_2_1_opt_a">  a) True</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_2_1_opt_b" />
    <label for= "test_question7_2_1_opt_b">  b) False</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_2_1','a',['Although the while loop uses a different syntax, it is just as powerful as a for-loop and often more flexible.', 'Often a for-loop is more natural and convenient for a task, but that same task can always be expressed using a while loop.'])"/> 
    </form>
    <div id="test_question7_2_1_feedback">
    </div>
    </div>
    
    <div id="test_question7_2_2">
    <p>7.2.2: The following code contains an infinite loop.  Which is the best explanation for why the loop does not terminate?
  <pre>
  n = 10
  answer = 1
  while ( n > 0 ):
    answer = answer + n
        n = n + 1
  print answer
  </pre></p>
    <form name="test_question7_2_2_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_2_2_opt_a" />
    <label for= "test_question7_2_2_opt_a">  a) n starts at 10 and is incremented by 1 each time through the loop, so it will always be positive</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_2_2_opt_b" />
    <label for= "test_question7_2_2_opt_b">  b) answer starts at 1 and is incremented by n each time, so it will always be positive</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_2_2_opt_c" />
    <label for= "test_question7_2_2_opt_c">  c) You cannot compare n to 0 in while loop.  You must compare it to another variable.</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_2_2_opt_d" />
    <label for= "test_question7_2_2_opt_d">  d) In the while loop body, we must set n False, and this code does not do that.</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_2_2','a',['The loop will run as long as n is positive.  In this case, we can see that n will never become non-positive.', 'While it is true that answer will always be positive, answer is not considered in the loop condition.', 'It is perfectly valid to compare n to 0.  Though indirectly, this is what causes the infinite loop.', 'The loop condition must become False for the loop to terminate, but n by itself is not the condition in this case.'])"/> 
    </form>
    <div id="test_question7_2_2_feedback">
    </div>
    </div>
    </div>
<div class="section" id="randomly-walking-turtles">
<h2>Randomly Walking Turtles<a class="headerlink" href="#randomly-walking-turtles" title="Permalink to this headline">¶</a></h2>
<p>Suppose we want to entertain ourselves by watching a turtle wander around
randomly inside the screen.  When we run the program we want the turtle and
program to behave in the following way:</p>
<ol class="arabic simple">
<li>The turtle begins in the center of the screen.</li>
<li>Flip a coin. If its heads then turn to the left 90 degrees. If its tails
then turn to the right 90 degrees.</li>
<li>Take 50 steps forward.</li>
<li>If the turtle has moved outside the screen then stop, otherwise go back to
step 2 and repeat.</li>
</ol>
<p>Notice that we cannot predict how many times the turtle will need to flip the
coin before it wanders out of the screen, so we can&#8217;t use a for loop in this
case. In fact, although very unlikely, this program might never end,
that is why we call this indefinite iteration.</p>
<p>So based on the problem description above, we can outline a program as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">create</span> <span class="n">a</span> <span class="n">window</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">turtle</span>

<span class="k">while</span> <span class="n">the</span> <span class="n">turtle</span> <span class="ow">is</span> <span class="n">still</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">window</span><span class="p">:</span>
    <span class="n">generate</span> <span class="n">a</span> <span class="n">random</span> <span class="n">number</span> <span class="n">between</span> <span class="mi">0</span> <span class="ow">and</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">the</span> <span class="n">number</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">(</span><span class="n">heads</span><span class="p">):</span>
        <span class="n">turn</span> <span class="n">left</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">turn</span> <span class="n">right</span>
    <span class="n">move</span> <span class="n">the</span> <span class="n">turtle</span> <span class="n">forward</span> <span class="mi">50</span>
</pre></div>
</div>
<p>Now, probably the only thing that seems a bit confusing to you is the part
about whether or not the turtle is still in the screen.  But this is the nice
thing about programming, we can delay the tough stuff and get <em>something</em> in
our program working right away.  The way we are going to do this is to
delegate the work of deciding whether the turtle is still in the screen or
not to a boolean function.  Lets call this boolean function <tt class="docutils literal"><span class="pre">isInScreen</span></tt> We
can write a very simple version of this boolean function by having
it always return <tt class="docutils literal"><span class="pre">True</span></tt>, or by having it decide randomly,
the point is to have it do something simple so that we can focus on the parts
we already know how to do well and get them working.  Since having it always
return true would not be a good idea we will write our version to decide
randomly.  Lets say that there is a 90% chance the turtle is still in the
window and 10% that the turtle has escaped.</p>

<div id="iter_randwalk1" >
<textarea cols="50" rows="12" id="iter_randwalk1_code" class="active_code">
import random
import turtle


def isInScreen(w,t):
    if random.random() > 0.1:
        return True
    else:
        return False


t = turtle.Turtle()
wn = turtle.Screen()

t.shape('turtle')
while isInScreen(wn,t):
    coin = random.randrange(0,2)
    if coin == 0:              # heads
        t.left(90)
    else:                      # tails
        t.right(90)

    t.forward(50)

wn.exitonclick()

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (iter_randwalk1)</span> </p>
<button onclick="runit('iter_randwalk1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('iter_randwalk1');">Save</button>
<button class="ac_opt" onclick="requestCode('iter_randwalk1');">Load</button>
<br />

<canvas id="iter_randwalk1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="iter_randwalk1_pre" class="active_out">

</pre>

</div>

<p>Now we have a working program that draws a random walk of our turtle that has
a 90% chance of staying on the screen.  We are in a good position,
because a large part of our program is working and we can focus on the next
bit of work &#8211; deciding whether the turtle is inside the screen boundaries or
not.</p>
<p>We can find out the width and the height of the screen using the
<tt class="docutils literal"><span class="pre">window_width</span></tt> and <tt class="docutils literal"><span class="pre">window_height</span></tt> methods of the screen object.
However, remember that the turtle starts at position 0,0 in the middle of the
screen.  So we never want the turtle to go farther right than width/2 or
farther left than negative width/2.  We never want the turtle to go further
up than height/2 or further down than negative height/2.  Once we know what
the boundaries are we can use some conditionals to check the turtle position
against the boundaries and return <tt class="docutils literal"><span class="pre">False</span></tt> if the turtle is outside or
<tt class="docutils literal"><span class="pre">True</span></tt> if the turtle is inside.</p>
<p>Once we have computed our boundaries we can get the current position of the
turtle and then use conditionals to decide.  Here is one implementation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">isInWindow</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">t</span><span class="p">):</span>
    <span class="n">leftBound</span> <span class="o">=</span> <span class="o">-</span> <span class="n">wn</span><span class="o">.</span><span class="n">window_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">rightBound</span> <span class="o">=</span> <span class="n">wn</span><span class="o">.</span><span class="n">window_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">topBound</span> <span class="o">=</span> <span class="n">wn</span><span class="o">.</span><span class="n">window_height</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">bottomBound</span> <span class="o">=</span> <span class="o">-</span><span class="n">wn</span><span class="o">.</span><span class="n">window_height</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span>

    <span class="n">turtleX</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">xcor</span><span class="p">()</span>
    <span class="n">turtleY</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">ycor</span><span class="p">()</span>

    <span class="n">stillIn</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="n">turtleX</span> <span class="o">&gt;</span> <span class="n">rightBound</span> <span class="ow">or</span> <span class="n">turtleX</span> <span class="o">&lt;</span> <span class="n">leftBound</span><span class="p">:</span>
        <span class="n">stillIn</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="n">turtleY</span> <span class="o">&gt;</span> <span class="n">topBound</span> <span class="ow">or</span> <span class="n">turtleY</span> <span class="o">&lt;</span> <span class="n">bottomBound</span><span class="p">:</span>
        <span class="n">stillIn</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">return</span> <span class="n">stillIn</span>
</pre></div>
</div>
<p>There are lots of ways that the conditional could be written.  In this case
we have given <tt class="docutils literal"><span class="pre">stillIn</span></tt> the default value of <tt class="docutils literal"><span class="pre">True</span></tt> and use two <tt class="docutils literal"><span class="pre">if</span></tt>
statements
to set the value to <tt class="docutils literal"><span class="pre">False</span></tt>.  You could rewrite this to use nested
conditionals or <tt class="docutils literal"><span class="pre">elif</span></tt> statements and set <tt class="docutils literal"><span class="pre">stillIn</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt> in an else
clause.</p>
<p>Here is the full version of our random walk program.</p>

<div id="iter_randwalk2" >
<textarea cols="50" rows="12" id="iter_randwalk2_code" class="active_code">
import random
import turtle

def isInScreen(w,t):
    leftBound = - w.window_width()/2
    rightBound = w.window_width()/2
    topBound = w.window_height()/2
    bottomBound = -w.window_height()/2

    turtleX = t.xcor()
    turtleY = t.ycor()

    stillIn = True
    if turtleX > rightBound or turtleX < leftBound:
        stillIn = False
    if turtleY > topBound or turtleY < bottomBound:
        stillIn = False

    return stillIn

t = turtle.Turtle()
wn = turtle.Screen()

t.shape('turtle')
while isInScreen(wn,t):
    coin = random.randrange(0,2)
    if coin == 0:
        t.left(90)
    else:
        t.right(90)

    t.forward(50)

wn.exitonclick()

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (iter_randwalk2)</span> </p>
<button onclick="runit('iter_randwalk2',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('iter_randwalk2');">Save</button>
<button class="ac_opt" onclick="requestCode('iter_randwalk2');">Load</button>
<br />

<canvas id="iter_randwalk2_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="iter_randwalk2_pre" class="active_out">

</pre>

</div>

<p>We could have written this program without using a boolean function,
You might try to rewrite it using a complex condition on the while statement,
but using a boolean function makes the program much more readable and easier
to understand.  It also gives us another tool to use if this was a
larger program and we needed to have a check for whether the turtle
was still in the screen in another part of the program.  Another advantage is
that if you ever need to write a similar program, you can reuse this function
with confidence the next time you need it.  Breaking up this
program into a couple of parts is another example of functional decomposition.</p>
<div class="admonition-scratch-editor admonition">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_4" onclick="createActiveCode('scratch_7_4',''); $('#butt_scratch_7_4').hide();">Open Editor</button>
<div id="scratch_7_4"></div>
<br />
</div></div>
<p id="index-3"><strong>Check your understanding</strong></p>

    <div id="test_question7_3_1">
    <p>7.3.1: Which type of loop can be used to perform the following iteration: You choose a positive integer at random and then print the numbers from 1 up to and including the selected integer.</p>
    <form name="test_question7_3_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_3_1_opt_a" />
    <label for= "test_question7_3_1_opt_a">  a) a for-loop or a while-loop</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_3_1_opt_b" />
    <label for= "test_question7_3_1_opt_b">  b) only a for-loop</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_3_1_opt_c" />
    <label for= "test_question7_3_1_opt_c">  c) only a while-loop</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_3_1','a',['Although you do not know how many iterations you loop will run before the program starts running, once you have chosen your random integer, Python knows exactly how many iterations the loop will run, so either a for-loop or a while-loop will work.', 'As you learned in section 7.2, a while-loop can always be used for anything a for-loop can be used for.', 'Although you do not know how many iterations you loop will run before the program starts running, once you have chosen your random integer, Python knows exactly how many iterations the loop will run, so this is an example of definite iteration.'])"/> 
    </form>
    <div id="test_question7_3_1_feedback">
    </div>
    </div>
    
    <div id="test_question7_3_2">
    <p>7.3.2: In the random walk program in this section, what does the isInScreen function do?</p>
    <form name="test_question7_3_2_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_3_2_opt_a" />
    <label for= "test_question7_3_2_opt_a">  a) Returns True if the turtle is still on the screen and False if the turtle is no longer on the screen.</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_3_2_opt_b" />
    <label for= "test_question7_3_2_opt_b">  b) Uses a while loop to move the turtle randomly until it goes off the screen.</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_3_2_opt_c" />
    <label for= "test_question7_3_2_opt_c">  c) Turns the turtle right or left at random and moves the turtle forward 50.</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_3_2_opt_d" />
    <label for= "test_question7_3_2_opt_d">  d) Calculates and returns the position of the turtle in the window.</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_3_2','a',['The isInScreen function computes the boolean test of whether the turtle is still in the window.  It makes the condition of the while loop in the main part of the code simpler.', 'The isInScreen function does not contain a while-loop.  That loop is outside the isInScreen function.', 'The isInScreen function does not move the turtle.', 'While the isInScreen function does use the size of the window and position of the turtle, it does not return the turtle position.'])"/> 
    </form>
    <div id="test_question7_3_2_feedback">
    </div>
    </div>
    </div>
<div class="section" id="the-3n-1-sequence">
<h2>The 3n + 1 Sequence<a class="headerlink" href="#the-3n-1-sequence" title="Permalink to this headline">¶</a></h2>
<p>As another example of indefinite iteration, let&#8217;s look at a sequence that has fascinated mathematicians for many years.
The rule  for creating the sequence is to start from
some given <tt class="docutils literal"><span class="pre">n</span></tt>, and to generate
the next term of the sequence from <tt class="docutils literal"><span class="pre">n</span></tt>, either by halving <tt class="docutils literal"><span class="pre">n</span></tt>,
whenever <tt class="docutils literal"><span class="pre">n</span></tt> is even, or else by multiplying it by three and adding 1 when it is odd.  The sequence
terminates when <tt class="docutils literal"><span class="pre">n</span></tt> reaches 1.</p>
<p>This Python function captures that algorithm.  Try running this program several times supplying different values for n.</p>

<div id="ch07_indef1" >
<textarea cols="50" rows="12" id="ch07_indef1_code" class="active_code">
def seq3np1(n):
    """ Print the 3n+1 sequence from n, terminating when it reaches 1."""
    while n != 1:
        print(n)
        if n % 2 == 0:        # n is even
            n = n // 2
        else:                 # n is odd
            n = n * 3 + 1
    print(n)                  # the last print is 1

seq3np1(3)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (ch07_indef1)</span> </p>
<button onclick="runit('ch07_indef1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('ch07_indef1');">Save</button>
<button class="ac_opt" onclick="requestCode('ch07_indef1');">Load</button>
<br />

<canvas id="ch07_indef1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="ch07_indef1_pre" class="active_out">

</pre>

</div>

<p>The condition for this loop is <tt class="docutils literal"><span class="pre">n</span> <span class="pre">!=</span> <span class="pre">1</span></tt>.  The loop will continue running until
<tt class="docutils literal"><span class="pre">n</span> <span class="pre">==</span> <span class="pre">1</span></tt> (which will make the condition false).</p>
<p>Each time through the loop, the program prints the value of <tt class="docutils literal"><span class="pre">n</span></tt> and then
checks whether it is even or odd using the remainder operator. If it is even, the value of <tt class="docutils literal"><span class="pre">n</span></tt> is divided
by 2 using integer division. If it is odd, the value is replaced by <tt class="docutils literal"><span class="pre">n</span> <span class="pre">*</span> <span class="pre">3</span> <span class="pre">+</span> <span class="pre">1</span></tt>.
Try some other examples.</p>
<p>Since <tt class="docutils literal"><span class="pre">n</span></tt> sometimes increases and sometimes decreases, there is no obvious
proof that <tt class="docutils literal"><span class="pre">n</span></tt> will ever reach 1, or that the program terminates. For some
particular values of <tt class="docutils literal"><span class="pre">n</span></tt>, we can prove termination. For example, if the
starting value is a power of two, then the value of <tt class="docutils literal"><span class="pre">n</span></tt> will be even each
time through the loop until it reaches 1.</p>
<p>You might like to have some fun and see if you can find a small starting
number that needs more than a hundred steps before it terminates.</p>
<div class="admonition-lab admonition">
<p class="first admonition-title">Lab</p>
<ul class="last simple">
<li><a class="reference external" href="sequencelab.html">Experimenting with the 3n+1 Sequence</a> In this guided lab exercise we will try to learn more about this sequence.</li>
</ul>
</div>
<p>Particular values aside, the interesting question is whether we can prove that
this sequence terminates for <em>all</em> values of <tt class="docutils literal"><span class="pre">n</span></tt>. So far, no one has been able
to prove it <em>or</em> disprove it!</p>
<p>Think carefully about what would be needed for a proof or disproof of the hypothesis
<em>&#8220;All positive integers will eventually converge to 1&#8221;</em>.  With fast computers we have
been able to test every integer up to very large values, and so far, they all
eventually end up at 1.  But this doesn&#8217;t mean that there might not be some
as-yet untested number which does not reduce to 1.</p>
<p>You&#8217;ll notice that if you don&#8217;t stop when you reach one, the sequence gets into
its own loop:  1, 4, 2, 1, 4, 2, 1, 4, and so on.  One possibility is that there might
be other cycles that we just haven&#8217;t found.</p>
<div class="admonition-choosing-between-for-and-while admonition">
<p class="first admonition-title">Choosing between <tt class="docutils literal"><span class="pre">for</span></tt> and <tt class="docutils literal"><span class="pre">while</span></tt></p>
<p>Use a <tt class="docutils literal"><span class="pre">for</span></tt> loop if you know the maximum number of times that you&#8217;ll
need to execute the body.  For example, if you&#8217;re traversing a list of elements,
or can formulate a suitable call to <tt class="docutils literal"><span class="pre">range</span></tt>, then choose the <tt class="docutils literal"><span class="pre">for</span></tt> loop.</p>
<p>So any problem like &#8220;iterate this weather model run for 1000 cycles&#8221;, or &#8220;search this
list of words&#8221;, &#8220;check all integers up to 10000 to see which are prime&#8221; suggest that a <tt class="docutils literal"><span class="pre">for</span></tt> loop is best.</p>
<p>By contrast, if you are required to repeat some computation until some condition is
met, as we did in this 3n + 1 problem, you&#8217;ll need a <tt class="docutils literal"><span class="pre">while</span></tt> loop.</p>
<p class="last">As we noted before, the first case is called <strong>definite iteration</strong> &#8212; we have some definite bounds for
what is needed.   The latter case is called <strong>indefinite iteration</strong> &#8212; we are not sure
how many iterations we&#8217;ll need &#8212; we cannot even establish an upper bound!</p>
</div>
<div class="admonition-scratch-editor admonition">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_5" onclick="createActiveCode('scratch_7_5',''); $('#butt_scratch_7_5').hide();">Open Editor</button>
<div id="scratch_7_5"></div>
<br />
</div></div>
<p id="index-4"><strong>Check your understanding</strong></p>

    <div id="test_question7_4_1">
    <p>7.4.1: Consider the code that prints the 3n+1 sequence in ActiveCode box 6.  Will the while loop in this code always terminate for any value of n?</p>
    <form name="test_question7_4_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_4_1_opt_a" />
    <label for= "test_question7_4_1_opt_a">  a) Yes.</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_4_1_opt_b" />
    <label for= "test_question7_4_1_opt_b">  b) No.</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_4_1_opt_c" />
    <label for= "test_question7_4_1_opt_c">  c) No one knows.</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_4_1','c',['The 3n+1 sequence has not been proven to terminate for all values of n.', 'It has not been disproven that the 3n+1 sequence will terminate for all values of n.  In other words, there might be some value for n such that this sequence does not terminate. We just have not found it yet.', 'That this sequence terminates for all values of n has not been proven or disproven so no one knows whether the while loop will always terminate or not.'])"/> 
    </form>
    <div id="test_question7_4_1_feedback">
    </div>
    </div>
    </div>
<div class="section" id="newton-s-method">
<h2>Newton&#8217;s Method<a class="headerlink" href="#newton-s-method" title="Permalink to this headline">¶</a></h2>
<p>Loops are often used in programs that compute numerical results by starting
with an approximate answer and iteratively improving it.</p>
<p>For example, one way of computing square roots is Newton&#8217;s method.  Suppose
that you want to know the square root of <tt class="docutils literal"><span class="pre">n</span></tt>. If you start with almost any
approximation, you can compute a better approximation with the following
formula:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">better</span> <span class="o">=</span>  <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">approx</span> <span class="o">+</span> <span class="n">n</span><span class="o">/</span><span class="n">approx</span><span class="p">)</span>
</pre></div>
</div>
<p>Execute this algorithm a few times using your calculator.  Can you
see why each iteration brings your estimate a little closer?  One of the amazing
properties of this particular algorithm is how quickly it converges to an accurate
answer.</p>
<p>The following implementation of Newton&#8217;s method requires two parameters.  The first is the
value whose square root will be approximated.  The second is the number of times to iterate the
calculation yielding a better result.</p>

<div id="chp07_newtonsdef" >
<textarea cols="50" rows="12" id="chp07_newtonsdef_code" class="active_code">
def newtonSqrt(n, howmany):
    approx = 0.5 * n
    for i in range(howmany):
        betterapprox = 0.5 * (approx + n/approx)
        approx = betterapprox
    return betterapprox

print(newtonSqrt(10,3))
print(newtonSqrt(10,5))
print(newtonSqrt(10,10))

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp07_newtonsdef)</span> </p>
<button onclick="runit('chp07_newtonsdef',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp07_newtonsdef');">Save</button>
<button class="ac_opt" onclick="requestCode('chp07_newtonsdef');">Load</button>
<br />

<canvas id="chp07_newtonsdef_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp07_newtonsdef_pre" class="active_out">

</pre>

</div>

<p>You may have noticed that the second and third calls to <tt class="docutils literal"><span class="pre">newtonSqrt</span></tt> in the previous example both returned the same value for the square root of 10.  Using 10 iterations instead of 5 did not improve the the value.  In general, Newton&#8217;s algorithm will eventually reach a point where the new approximation is no better than the previous.  At that point, we could simply stop.
In other words, by repeatedly applying this formula until the better approximation gets close
enough to the previous one, we can write a function for computing the square root that uses the number of iterations necessary and no more.</p>
<p>This implementation, shown in codelens,
uses a <tt class="docutils literal"><span class="pre">while</span></tt> condition to execute until the approximation is no longer changing.  Each time thru the loop we compute a &#8220;better&#8221; approximation using the formula described earlier.  As long as the &#8220;better&#8221; is different, we try again.  Step thru the program and watch the approximations get closer and closer.</p>

<table border="1" id="pyOutputPane_chp07_newtonswhile" class="pyOutputPane">
<tr>
<td valign="top">
Source Code
<br />

<div id="pyCodeOutputDiv_chp07_newtonswhile" class="pyCodeOutputDiv">
<table id="pyCodeOutput_chp07_newtonswhile" class="pyCodeOutput"></table>

</div>

<div id="vcrControls_chp07_newtonswhile" class="vcrControls">
  <button id="jmpFirstInstr_chp07_newtonswhile", type="button">&lt;&lt; First</button>
  <button id="jmpStepBack_chp07_newtonswhile", type="button">&lt; Back</button>
  Step <span id="curInstr_chp07_newtonswhile">?</span> of <span id="totalInstrs_chp07_newtonswhile">?</span>
  <button id="jmpStepFwd_chp07_newtonswhile", type="button">Forward &gt;</button>
  <button id="jmpLastInstr_chp07_newtonswhile", type="button">Last &gt;&gt;</button>

  <p><span id="warningOutput_chp07_newtonswhile" class="warningOutput"></span></p>
</div>
</td></tr>
<tr>
<td valign="top">

<div id="dataViz_chp07_newtonswhile"></div>

</td>
</tr>
<tr>
<td>
<div id="errorOutput_chp07_newtonswhile" class="errorOutput"></div>

Program output:
<br/>
<pre id="pyStdout_chp07_newtonswhile" class="active_out"></pre>
</td>
</tr>
</table>
<p class="cl_caption"><span class="ac_caption_text"> </span></p>


<script type="text/javascript">
$(document).ready(function() {
    myvis = new PythonTutor.Visualizer("def newtonSqrt(n):\n    approx = 0.5 * n\n    better = 0.5 * (approx + n/approx)\n    while  better !=  approx:\n        approx = better\n        better = 0.5 * (approx + n/approx)\n    return approx\n\nprint(newtonSqrt(10))",[{"globals": {}, "stdout": "", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "<module>", "line": 9, "stack_locals": [], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 1, "stack_locals": [["newtonSqrt", {"n": 10}]], "event": "call"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 2, "stack_locals": [["newtonSqrt", {"n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 3, "stack_locals": [["newtonSqrt", {"approx": 5.0, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 4, "stack_locals": [["newtonSqrt", {"better": 3.5, "approx": 5.0, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 5, "stack_locals": [["newtonSqrt", {"better": 3.5, "approx": 5.0, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 6, "stack_locals": [["newtonSqrt", {"better": 3.5, "approx": 3.5, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 4, "stack_locals": [["newtonSqrt", {"better": 3.1785714285714288, "approx": 3.5, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 5, "stack_locals": [["newtonSqrt", {"better": 3.1785714285714288, "approx": 3.5, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 6, "stack_locals": [["newtonSqrt", {"better": 3.1785714285714288, "approx": 3.1785714285714288, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 4, "stack_locals": [["newtonSqrt", {"better": 3.1623194221508828, "approx": 3.1785714285714288, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 5, "stack_locals": [["newtonSqrt", {"better": 3.1623194221508828, "approx": 3.1785714285714288, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 6, "stack_locals": [["newtonSqrt", {"better": 3.1623194221508828, "approx": 3.1623194221508828, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 4, "stack_locals": [["newtonSqrt", {"better": 3.1622776604441363, "approx": 3.1623194221508828, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 5, "stack_locals": [["newtonSqrt", {"better": 3.1622776604441363, "approx": 3.1623194221508828, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 6, "stack_locals": [["newtonSqrt", {"better": 3.1622776604441363, "approx": 3.1622776604441363, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 4, "stack_locals": [["newtonSqrt", {"better": 3.1622776601683791, "approx": 3.1622776604441363, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 5, "stack_locals": [["newtonSqrt", {"better": 3.1622776601683791, "approx": 3.1622776604441363, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 6, "stack_locals": [["newtonSqrt", {"better": 3.1622776601683791, "approx": 3.1622776601683791, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 4, "stack_locals": [["newtonSqrt", {"better": 3.1622776601683791, "approx": 3.1622776601683791, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 7, "stack_locals": [["newtonSqrt", {"better": 3.1622776601683791, "approx": 3.1622776601683791, "n": 10}]], "event": "step_line"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "", "func_name": "newtonSqrt", "line": 7, "stack_locals": [["newtonSqrt", {"better": 3.1622776601683791, "__return__": 3.1622776601683791, "approx": 3.1622776601683791, "n": 10}]], "event": "return"}, {"globals": {"newtonSqrt": ["function", 29, "<function newtonSqrt at 0x4448488>"]}, "stdout": "3.16227766017\n", "func_name": "<module>", "line": 9, "stack_locals": [], "event": "return"}],'chp07_newtonswhile');
});

</script>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">while</span></tt> statement shown above uses comparison of two floating point numbers in the condition.  Since floating point numbers are themselves approximation of real numbers in mathematics, it is often
better to compare for a result that is within some small threshold of the value you are looking for.</p>
</div>
<div class="admonition-scratch-editor admonition" id="index-5">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_6" onclick="createActiveCode('scratch_7_6',''); $('#butt_scratch_7_6').hide();">Open Editor</button>
<div id="scratch_7_6"></div>
<br />
</div></div>
</div>
<div class="section" id="algorithms-revisited">
<h2>Algorithms Revisited<a class="headerlink" href="#algorithms-revisited" title="Permalink to this headline">¶</a></h2>
<p>Newton&#8217;s method is an example of an <strong>algorithm</strong>: it is a mechanical process
for solving a category of problems (in this case, computing square roots).</p>
<p>It is not easy to define an algorithm. It might help to start with something
that is not an algorithm. When you learned to multiply single-digit numbers,
you probably memorized the multiplication table.  In effect, you memorized 100
specific solutions. That kind of knowledge is not algorithmic.</p>
<p>But if you were lazy, you probably cheated by learning a few tricks.  For
example, to find the product of n and 9, you can write n - 1 as the first digit
and 10 - n as the second digit. This trick is a general solution for
multiplying any single-digit number by 9. That&#8217;s an algorithm!</p>
<p>Similarly, the techniques you learned for addition with carrying, subtraction
with borrowing, and long division are all algorithms. One of the
characteristics of algorithms is that they do not require any intelligence to
carry out. They are mechanical processes in which each step follows from the
last according to a simple set of rules.</p>
<p>On the other hand, understanding that hard problems can be solved by step-by-step
algorithmic processess is one of the major simplifying breakthroughs that has
had enormous benefits.  So while the execution of the algorithm
may be boring and may require no intelligence, algorithmic or computational
thinking is having a vast impact.  It is the process of designing algorithms that is interesting,
intellectually challenging, and a central part of what we call programming.</p>
<p>Some of the things that people do naturally, without difficulty or conscious
thought, are the hardest to express algorithmically.  Understanding natural
language is a good example. We all do it, but so far no one has been able to
explain <em>how</em> we do it, at least not in the form of a step-by-step mechanical
algorithm.</p>
<div class="admonition-scratch-editor admonition" id="index-6">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_7" onclick="createActiveCode('scratch_7_7',''); $('#butt_scratch_7_7').hide();">Open Editor</button>
<div id="scratch_7_7"></div>
<br />
</div></div>
</div>
<div class="section" id="simple-tables">
<h2>Simple Tables<a class="headerlink" href="#simple-tables" title="Permalink to this headline">¶</a></h2>
<p>One of the things loops are good for is generating tabular data.  Before
computers were readily available, people had to calculate logarithms, sines and
cosines, and other mathematical functions by hand. To make that easier,
mathematics books contained long tables listing the values of these functions.
Creating the tables was slow and boring, and they tended to be full of errors.</p>
<p>When computers appeared on the scene, one of the initial reactions was, <em>&#8220;This is
great! We can use the computers to generate the tables, so there will be no
errors.&#8221;</em> That turned out to be true (mostly) but shortsighted. Soon thereafter,
computers and calculators were so pervasive that the tables became obsolete.</p>
<p>Well, almost. For some operations, computers use tables of values to get an
approximate answer and then perform computations to improve the approximation.
In some cases, there have been errors in the underlying tables, most famously
in the table the Intel Pentium processor chip used to perform floating-point division.</p>
<p>Although a power of 2 table is not as useful as it once was, it still makes a good
example of iteration. The following program outputs a sequence of values in the
left column and 2 raised to the power of that value in the right column:</p>

<div id="ch07_table1" >
<textarea cols="50" rows="12" id="ch07_table1_code" class="active_code">
print("n",'\t',"2**n")     #table column headings
print("---",'\t',"-----")

for x in range(13):        # generate values for columns
    print(x, '\t', 2**x)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (ch07_table1)</span> </p>
<button onclick="runit('ch07_table1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('ch07_table1');">Save</button>
<button class="ac_opt" onclick="requestCode('ch07_table1');">Load</button>
<br />

<canvas id="ch07_table1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="ch07_table1_pre" class="active_out">

</pre>

</div>

<p>The string <tt class="docutils literal"><span class="pre">'\t'</span></tt> represents a <strong>tab character</strong>. The backslash character in
<tt class="docutils literal"><span class="pre">'\t'</span></tt> indicates the beginning of an <strong>escape sequence</strong>.  Escape sequences
are used to represent invisible characters like tabs and newlines. The sequence
<tt class="docutils literal"><span class="pre">\n</span></tt> represents a <strong>newline</strong>.</p>
<p>An escape sequence can appear anywhere in a string.  In this example, the tab
escape sequence is the only thing in the string. How do you think you represent
a backslash in a string?</p>
<p>As characters and strings are displayed on the screen, an invisible marker
called the <strong>cursor</strong> keeps track of where the next character will go. After a
<tt class="docutils literal"><span class="pre">print</span></tt> function, the cursor normally goes to the beginning of the next
line.</p>
<p>The tab character shifts the cursor to the right until it reaches one of the
tab stops. Tabs are useful for making columns of text line up, as in the output
of the previous program.
Because of the tab characters between the columns, the position of the second
column does not depend on the number of digits in the first column.</p>
<div class="admonition-scratch-editor admonition">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_8" onclick="createActiveCode('scratch_7_8',''); $('#butt_scratch_7_8').hide();">Open Editor</button>
<div id="scratch_7_8"></div>
<br />
</div></div>
<p id="index-7"><strong>Check your understanding</strong></p>

    <div id="test_question7_7_1">
    <p>7.7.1: What is the difference between a tab (\t) and a sequence of spaces?</p>
    <form name="test_question7_7_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_7_1_opt_a" />
    <label for= "test_question7_7_1_opt_a">  a) A tab will line up items in a second column, regardless of how many characters were in the first column, while spaces will not.</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_7_1_opt_b" />
    <label for= "test_question7_7_1_opt_b">  b) There is no difference</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_7_1_opt_c" />
    <label for= "test_question7_7_1_opt_c">  c) A tab is wider than a sequence of spaces</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_7_1_opt_d" />
    <label for= "test_question7_7_1_opt_d">  d) You must use tabs for creating tables.  You cannot use spaces.</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_7_1','a',['Assuming the size of the first column is less than the size of the tab width.', 'Tabs and spaces will sometimes make output appear visually different.', 'A tab has a pre-defined width that is equal to a given number of spaces.', 'You may use spaces to create tables.  The columns might look jagged, or they might not, depending on the width of the items in each column.'])"/> 
    </form>
    <div id="test_question7_7_1_feedback">
    </div>
    </div>
    </div>
<div class="section" id="dimensional-iteration-image-processing">
<h2>2-Dimensional Iteration: Image Processing<a class="headerlink" href="#dimensional-iteration-image-processing" title="Permalink to this headline">¶</a></h2>
<p>Two dimensional tables have both rows and columns.  You have probably seen many tables like this if you have used a
spreadsheet program.  Another object that is organized in rows and columns is a digital image.  In this section we will
explore how iteration allows us to manipulate these images.</p>
<p>A <strong>digital image</strong> is a finite collection of small, discrete picture elements called <strong>pixels</strong>.  These pixels are organized in a two-dimensional grid.  Each pixel represents the smallest amount of picture information that is
available.  Sometimes these pixels appear as small &#8220;dots&#8221;.</p>
<p>Each image (grid of pixels) has its own width and its own height.  The width is the number of columns and the height is the number of rows.  We can name the pixels in the grid by using the column number and row number.  However, it is very important to remember
that computer scientists like to start counting with 0!  This means that if there are 20 rows, they will be named 0,1,2, and so on thru 19.  This will be very useful later when we iterate using range.</p>
<p>In the figure below, the pixel of interest is found at column <strong>c</strong> and row <strong>r</strong>.</p>
<img alt="../_images/image.png" src="../_images/image.png" />
<div class="section" id="the-rgb-color-model">
<h3>The RGB Color Model<a class="headerlink" href="#the-rgb-color-model" title="Permalink to this headline">¶</a></h3>
<p>Each pixel of the image will represent a single color.  The specific color depends on a formula that mixes various amounts
of three basic colors: red, green, and blue.  This technique for creating color is known as the <strong>RGB Color Model</strong>.
The amount of each color, sometimes called the <strong>intensity</strong> of the color, allows us to have very fine control over the
resulting color.</p>
<p>The minimum intensity value for a basic color is 0.  For example if the red intensity is 0, then there is no red in the pixel.  The maximum
intensity is 255.  This means that there are actually 256 different amounts of intensity for each basic color.  Since there
are three basic colors, that means that you can create 256<sup>3</sup> distinct colors using the RGB Color Model.</p>
<p>Here are the red, green and blue intensities for some common colors.  Note that &#8220;Black&#8221; is represented by a pixel having
no basic color.  On the other hand, &#8220;White&#8221; has maximum values for all three basic color components.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Color</th>
<th class="head">Red</th>
<th class="head">Green</th>
<th class="head">Blue</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Red</td>
<td>255</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>Green</td>
<td>0</td>
<td>255</td>
<td>0</td>
</tr>
<tr class="row-even"><td>Blue</td>
<td>0</td>
<td>0</td>
<td>255</td>
</tr>
<tr class="row-odd"><td>White</td>
<td>255</td>
<td>255</td>
<td>255</td>
</tr>
<tr class="row-even"><td>Black</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>Yellow</td>
<td>255</td>
<td>255</td>
<td>0</td>
</tr>
<tr class="row-even"><td>Magenta</td>
<td>255</td>
<td>0</td>
<td>255</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>In order to manipulate an image, we need to be able to access individual pixels.  This capability is provided by
a module called <strong>image</strong>.  The image module defines two classes: <tt class="docutils literal"><span class="pre">Image</span></tt> and <tt class="docutils literal"><span class="pre">Pixel</span></tt>.</p>
<p>Each Pixel object has three attributes: the red intensity, the green intensity, and the blue intensity.  A pixel provides three methods
that allow us to ask for the intensity values.  They are called <tt class="docutils literal"><span class="pre">getRed</span></tt>, <tt class="docutils literal"><span class="pre">getGreen</span></tt>, and <tt class="docutils literal"><span class="pre">getBlue</span></tt>.  In addition, we can ask a
pixel to change an intensity value using its <tt class="docutils literal"><span class="pre">setRed</span></tt>, <tt class="docutils literal"><span class="pre">setGreen</span></tt>, and <tt class="docutils literal"><span class="pre">setBlue</span></tt> methods.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="19%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method Name</th>
<th class="head">Example</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Pixel(r,g,b)</td>
<td>Pixel(20,100,50)</td>
<td>Create a new pixel with 20 red, 100 green, and 50 blue.</td>
</tr>
<tr class="row-odd"><td>getRed()</td>
<td>r = p.getRed()</td>
<td>Return the red component intensity.</td>
</tr>
<tr class="row-even"><td>getGreen()</td>
<td>r = p.getGreen()</td>
<td>Return the green component intensity.</td>
</tr>
<tr class="row-odd"><td>getBlue()</td>
<td>r = p.getBlue()</td>
<td>Return the blue component intensity.</td>
</tr>
<tr class="row-even"><td>setRed()</td>
<td>p.setRed(100)</td>
<td>Set the red component intensity to 100.</td>
</tr>
<tr class="row-odd"><td>setGreen()</td>
<td>p.setGreen(45)</td>
<td>Set the green component intensity to 45.</td>
</tr>
<tr class="row-even"><td>setBlue()</td>
<td>p.setBlue(156)</td>
<td>Set the blue component intensity to 156.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>In the example below, we first create a pixel with 45 units of red, 76 units of green, and 200 units of blue.
We then print the current amount of red, change the amount of red, and finally, set the amount of blue to be
the same as the current amount of green.</p>

<div id="pixelex1a" >
<textarea cols="50" rows="12" id="pixelex1a_code" class="active_code">
import image

p = image.Pixel(45,76,200)
print(p.getRed())
p.setRed(66)
print(p.getRed())
p.setBlue(p.getGreen())
print(p.getGreen(), p.getBlue())

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (pixelex1a)</span> </p>
<button onclick="runit('pixelex1a',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('pixelex1a');">Save</button>
<button class="ac_opt" onclick="requestCode('pixelex1a');">Load</button>
<br />

<canvas id="pixelex1a_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="pixelex1a_pre" class="active_out">

</pre>

</div>

<p><strong>Check your understanding</strong></p>

    <div id="test_question7_8_1_1">
    <p>7.8.1.1: If you have a pixel whose RGB value is (20, 0, 0), what color will this pixel appear to be?</p>
    <form name="test_question7_8_1_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_8_1_1_opt_a" />
    <label for= "test_question7_8_1_1_opt_a">  a) Dark red</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_8_1_1_opt_b" />
    <label for= "test_question7_8_1_1_opt_b">  b) Light red</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_8_1_1_opt_c" />
    <label for= "test_question7_8_1_1_opt_c">  c) Dark green</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_8_1_1_opt_d" />
    <label for= "test_question7_8_1_1_opt_d">  d) Light green</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_8_1_1','a',['Because all three values are close to 0, the color will be dark.  But because the red value is higher than the other two, the color will appear red.', 'The closer the values are to 0, the darker the color will appear.', 'The first value in RGB is the red value.  The second is the green.  This color has no green in it.', 'The first value in RGB is the red value.  The second is the green.  This color has no green in it.'])"/> 
    </form>
    <div id="test_question7_8_1_1_feedback">
    </div>
    </div>
    </div>
<div class="section" id="image-objects">
<h3>Image Objects<a class="headerlink" href="#image-objects" title="Permalink to this headline">¶</a></h3>
<p>To access the pixels in a real image, we need to first create an <tt class="docutils literal"><span class="pre">Image</span></tt> object.  Image objects can be created in two
ways.  First, an Image object can be made from the
files that store digital images.  The image object has an attribute corresponding to the width, the height, and the
collection of pixels in the image.</p>
<p>It is also possible to create an Image object that is &#8220;empty&#8221;.  An <tt class="docutils literal"><span class="pre">EmptyImage</span></tt> has a width and a height.  However, the
pixel collection consists of only &#8220;White&#8221; pixels.</p>
<p>We can ask an image object to return its size using the <tt class="docutils literal"><span class="pre">getWidth</span></tt> and <tt class="docutils literal"><span class="pre">getHeight</span></tt> methods.  We can also get a pixel from a particular location in the image using <tt class="docutils literal"><span class="pre">getPixel</span></tt> and change the pixel at
a particular location using <tt class="docutils literal"><span class="pre">setPixel</span></tt>.</p>
<p>The Image class is shown below.  Note that the first two entries show how to create image objects.  The parameters are
different depending on whether you are using an image file or creating an empty image.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="31%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method Name</th>
<th class="head">Example</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Image(filename)</td>
<td>img = image.Image(&#8220;cy.png&#8221;)</td>
<td>Create an Image object from the file cy.png.</td>
</tr>
<tr class="row-odd"><td>EmptyImage()</td>
<td>img = image.EmptyImage(100,200)</td>
<td>Create an Image object that has all &#8220;White&#8221; pixels</td>
</tr>
<tr class="row-even"><td>getWidth()</td>
<td>w = img.getWidth()</td>
<td>Return the width of the image in pixels.</td>
</tr>
<tr class="row-odd"><td>getHeight()</td>
<td>h = img.getHeight()</td>
<td>Return the height of the image in pixels.</td>
</tr>
<tr class="row-even"><td>getPixel(col,row)</td>
<td>p = img.getPixel(35,86)</td>
<td>Return the pixel at column 35, row 86d.</td>
</tr>
<tr class="row-odd"><td>setPixel(col,row,p)</td>
<td>img.setPixel(100,50,mp)</td>
<td>Set the pixel at column 100, row 50 to be mp.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Consider the image shown below.  Assume that the image is stored in a file called &#8220;luther.jpg&#8221;.  Line 2 opens the
file and uses the contents to create an image object that is referred to by <tt class="docutils literal"><span class="pre">img</span></tt>.  Once we have an image object,
we can use the methods described above to access information about the image or to get a specific pixel and check
on its basic color intensities.</p>
<img src="_static/LutherBellPic.jpg" id="luther.jpg">
<div id="pixelex1" >
<textarea cols="50" rows="12" id="pixelex1_code" class="active_code">
import image
img = image.Image("luther.jpg")

print(img.getWidth())
print(img.getHeight())

p = img.getPixel(45,55)
print(p.getRed(), p.getGreen(), p.getBlue())

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (pixelex1)</span> </p>
<button onclick="runit('pixelex1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('pixelex1');">Save</button>
<button class="ac_opt" onclick="requestCode('pixelex1');">Load</button>
<br />

<canvas id="pixelex1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="pixelex1_pre" class="active_out">

</pre>

</div>

<p>When you run the program you can see that the image has a width of 400 pixels and a height of 244 pixels.  Also, the
pixel at column 45, row 55, has RGB values of 165, 161, and 158.  Try a few other pixel locations by changing the <tt class="docutils literal"><span class="pre">getPixel</span></tt> arguments and rerunning the program.</p>
<p><strong>Check your understanding</strong></p>

    <div id="test_question7_8_2_1">
    <p>7.8.2.1: In the example in ActiveCode box 10, what are the RGB values of the pixel at row 100, column 30?</p>
    <form name="test_question7_8_2_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_8_2_1_opt_a" />
    <label for= "test_question7_8_2_1_opt_a">  a) 149 132 122</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_8_2_1_opt_b" />
    <label for= "test_question7_8_2_1_opt_b">  b) 183 179 170</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_8_2_1_opt_c" />
    <label for= "test_question7_8_2_1_opt_c">  c) 165 161 158</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_8_2_1_opt_d" />
    <label for= "test_question7_8_2_1_opt_d">  d) 201 104 115</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_8_2_1','a',['Yes, the RGB values are 149 132 122 at row 100 and column 30.', 'These are the values for the pixel at row 30, column 100.  Get the values for row 100 and column 30 with p = img.getPixel(100,30).', 'These are the values from the original example (row 45, column 55). Get the values for row 100 and column 30 with p = img.getPixel(100,30).', 'These are simply made-up values that may or may not appear in the image.  Get the values for row 100 and column 30 with p = img.getPixel(100,30).'])"/> 
    </form>
    <div id="test_question7_8_2_1_feedback">
    </div>
    </div>
    </div>
<div class="section" id="image-processing-and-nested-iteration">
<h3>Image Processing and Nested Iteration<a class="headerlink" href="#image-processing-and-nested-iteration" title="Permalink to this headline">¶</a></h3>
<p><strong>Image processing</strong> refers to the ability to manipulate the individual pixels in a digital image.  In order to process
all of the pixels, we need to be able to systematically visit all of the rows and columns in the image.  The best way
to do this is to use <strong>nested iteration</strong>.</p>
<p>Nested iteration simply means that we will place one iteration construct inside of another.  We will call these two
iterations the <strong>outer iteration</strong> and the <strong>inner iteration</strong>.
To see how this works, consider the simple iteration below.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
   <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<p>We have seen this enough times to know that the value of <tt class="docutils literal"><span class="pre">i</span></tt> will be 0, then 1, then 2, and so on up to 4.
The <tt class="docutils literal"><span class="pre">print</span></tt> will be performed once for each pass.
However, the body of the loop can contain any statements including another iteration (another <tt class="docutils literal"><span class="pre">for</span></tt> statement).  For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
   <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">for</span> <span class="pre">i</span></tt> iteration is the <cite>outer iteration</cite> and the <tt class="docutils literal"><span class="pre">for</span> <span class="pre">j</span></tt> iteration is the <cite>inner iteration</cite>.  Each pass thru
the outer iteration will result in the complete processing of the inner iteration from beginning to end.  This means that
the output from this nested iteration will show that for each value of <tt class="docutils literal"><span class="pre">i</span></tt>, all values of <tt class="docutils literal"><span class="pre">j</span></tt> will occur.</p>
<p>Here is the same example in activecode.  Try it.  Note that the value of <tt class="docutils literal"><span class="pre">i</span></tt> stays the same while the value of <tt class="docutils literal"><span class="pre">j</span></tt> changes.  The inner iteration, in effect, is moving faster than the outer iteration.</p>

<div id="nested1" >
<textarea cols="50" rows="12" id="nested1_code" class="active_code">
for i in range(5):
   for j in range(3):
        print(i,j)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (nested1)</span> </p>
<button onclick="runit('nested1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('nested1');">Save</button>
<button class="ac_opt" onclick="requestCode('nested1');">Load</button>
<br />

<canvas id="nested1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="nested1_pre" class="active_out">

</pre>

</div>

<p>Another way to see this in more detail is to examine the behavior with codelens.  Step thru the iterations to see the
flow of control as it occurs with the nested iteration.  Again, for every value of <tt class="docutils literal"><span class="pre">i</span></tt>, all of the values of <tt class="docutils literal"><span class="pre">j</span></tt> will occur.  You can see that the inner iteration completes before going on to the next pass of the outer iteration.</p>

<table border="1" id="pyOutputPane_nested2" class="pyOutputPane">
<tr>
<td valign="top">
Source Code
<br />

<div id="pyCodeOutputDiv_nested2" class="pyCodeOutputDiv">
<table id="pyCodeOutput_nested2" class="pyCodeOutput"></table>

</div>

<div id="vcrControls_nested2" class="vcrControls">
  <button id="jmpFirstInstr_nested2", type="button">&lt;&lt; First</button>
  <button id="jmpStepBack_nested2", type="button">&lt; Back</button>
  Step <span id="curInstr_nested2">?</span> of <span id="totalInstrs_nested2">?</span>
  <button id="jmpStepFwd_nested2", type="button">Forward &gt;</button>
  <button id="jmpLastInstr_nested2", type="button">Last &gt;&gt;</button>

  <p><span id="warningOutput_nested2" class="warningOutput"></span></p>
</div>
</td></tr>
<tr>
<td valign="top">

<div id="dataViz_nested2"></div>

</td>
</tr>
<tr>
<td>
<div id="errorOutput_nested2" class="errorOutput"></div>

Program output:
<br/>
<pre id="pyStdout_nested2" class="active_out"></pre>
</td>
</tr>
</table>
<p class="cl_caption"><span class="ac_caption_text"> </span></p>


<script type="text/javascript">
$(document).ready(function() {
    myvis = new PythonTutor.Visualizer("for i in range(5):\n   for j in range(3):\n        print(i,j)",[{"globals": {}, "stdout": "", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0}, "stdout": "", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0, "j": 0}, "stdout": "", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0, "j": 0}, "stdout": "(0, 0)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0, "j": 1}, "stdout": "(0, 0)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 0, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 1, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 2, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 3, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 0}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(4, 0)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(4, 0)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 1}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(4, 0)\n(4, 1)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(4, 0)\n(4, 1)\n", "func_name": "<module>", "line": 3, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(4, 0)\n(4, 1)\n(4, 2)\n", "func_name": "<module>", "line": 2, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(4, 0)\n(4, 1)\n(4, 2)\n", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "step_line"}, {"globals": {"i": 4, "j": 2}, "stdout": "(0, 0)\n(0, 1)\n(0, 2)\n(1, 0)\n(1, 1)\n(1, 2)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(4, 0)\n(4, 1)\n(4, 2)\n", "func_name": "<module>", "line": 1, "stack_locals": [], "event": "return"}],'nested2');
});

</script>
<p>Our goal with image processing is to visit each pixel.  We will use an iteration to process each <cite>row</cite>.  Within that iteration, we will use a nested iteration to process each <cite>column</cite>.  The result is a nested iteration, similar to the one
seen above, where the outer <tt class="docutils literal"><span class="pre">for</span></tt> loop processes the rows, from 0 up to but not including the height of the image.
The inner <tt class="docutils literal"><span class="pre">for</span></tt> loop will process each column of a row, again from 0 up to but not including the width of the image.</p>
<p>The resulting code will look like the following.  We are now free to do anything we wish to each pixel in the image.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">getWidth</span><span class="p">()):</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">getHeight</span><span class="p">()):</span>
        <span class="c">#do something with the pixel at position (col,row)</span>
</pre></div>
</div>
<p>One of the easiest image processing algorithms will create what is known as a <strong>negative</strong> image.  A negative image simply means that
each pixel will be the <cite>opposite</cite> of what it was originally.  But what does opposite mean?</p>
<p>In the RGB color model, we can consider the opposite of the red component as the difference between the original red
and 255.  For example, if the original red component was 50, then the opposite, or negative red value would be
<tt class="docutils literal"><span class="pre">255-50</span></tt> or 205.  In other words, pixels with alot of red will have negatives with little red and pixels with little red will have negatives with alot.  We do the same for the blue and green as well.</p>
<p>The program below implements this algorithm using the previous image.  Run it to see the resulting negative image.  Note that there is alot of processing taking place and this may take a few seconds to complete.  In addition, here are two other images that you can use.  Change the name of the file in the <tt class="docutils literal"><span class="pre">image.Image()</span></tt> call to see how these images look as negatives.  Also, note that there is an <tt class="docutils literal"><span class="pre">exitonclick</span></tt> method call at the very end which will close the window when you click on it.  This will allow you to &#8220;clear the screen&#8221; before drawing the next negative.</p>
<img src="_static/cy.png" id="cy.png">
cy.png<img src="_static/goldygopher.png" id="goldygopher.png">
goldygopher.png
<div id="acimg_1" >
<textarea cols="50" rows="12" id="acimg_1_code" class="active_code">
import image

img = image.Image("luther.jpg")
newimg = image.EmptyImage(img.getWidth(),img.getHeight())
win = image.ImageWin()

for col in range(img.getWidth()):
    for row in range(img.getHeight()):
       p = img.getPixel(col,row)

       newred = 255-p.getRed()
       newgreen = 255-p.getGreen()
       newblue = 255-p.getBlue()

       newpixel = image.Pixel(newred,newgreen,newblue)

       newimg.setPixel(col,row,newpixel)

newimg.draw(win)
win.exitonclick()

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (acimg_1)</span> </p>
<button onclick="runit('acimg_1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('acimg_1');">Save</button>
<button class="ac_opt" onclick="requestCode('acimg_1');">Load</button>
<br />

<canvas id="acimg_1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="acimg_1_pre" class="active_out">

</pre>

</div>

<p>Lets take a closer look at the code.  After importing the image module, we create two image objects.  The first, <tt class="docutils literal"><span class="pre">img</span></tt>, represents a typical digital photo.  The second, <tt class="docutils literal"><span class="pre">newimg</span></tt>, is an empty image that will be &#8220;filled in&#8221; as we process the original pixel by pixel.  Note that the width and height of the empty image is set to be the same as the width and height of the original.</p>
<p>Lines 8 and 9 create the nested iteration that we discussed earlier.  This allows us to process each pixel in the image.
Line 10 gets an individual pixel.</p>
<p>Lines 12-14 create the negative intensity values by extracting the original intensity from the pixel and subtracting it
from 255.  Once we have the <tt class="docutils literal"><span class="pre">newred</span></tt>, <tt class="docutils literal"><span class="pre">newgreen</span></tt>, and <tt class="docutils literal"><span class="pre">newblue</span></tt> values, we can create a new pixel (Line 16).</p>
<p>Finally, we need to insert the new pixel into the empty image in the same location as the original pixel that it came from in the digital photo.</p>
<div class="admonition-other-pixel-manipulation admonition">
<p class="first admonition-title">Other pixel manipulation</p>
<p>There are a number of different image processing algorithms that follow the same pattern as shown above.  Namely, take the original pixel, extract the red, green, and blue intensities, and then create a new pixel from them.  The new pixel is inserted into an empty image at the same location as the original.</p>
<p>For example, you can create a <strong>gray scale</strong> pixel by averaging the red, green and blue intensities and then using that value for all intensities.</p>
<p>From the gray scale you can create <strong>black white</strong> by setting a threshold and selecting to either insert a white pixel or a black pixel into the empty image.</p>
<p class="last">You can also do some complex arithmetic and create interesting effects, such as
<a class="reference external" href="http://en.wikipedia.org/wiki/Sepia_tone#Sepia_toning">Sepia Tone</a></p>
</div>
<div class="admonition-scratch-editor admonition">
<p class="first admonition-title">Scratch Editor</p>
<div class="last">
<button id="butt_scratch_7_9" onclick="createActiveCode('scratch_7_9',''); $('#butt_scratch_7_9').hide();">Open Editor</button>
<div id="scratch_7_9"></div>
<br />
</div></div>
<p>You have just passed a very important point in your study of Python programming.  Even though there is much more that we will do, you have learned all of the basic building blocks that are necessary to solve many interesting problems.  From and algorithm point of view, you can now implement selection and iteration.  You can also solve problems by breaking them down into smaller parts, writing functions for those parts, and then calling the functions to complete the implementation.
What remains is to focus on ways that we can better represent our problems in terms of the data that we manipulate.  We will now turn our attention to studying the main data collections provided by Python.</p>
<p><strong>Check your understanding</strong></p>

    <div id="test_question7_8_3_1">
    <p>7.8.3.1: What will the following nested for-loop print?  (Note, if you are having trouble with this question, review CodeLens 3).
 <pre>
 for i in range(3):
   for j in range(2):
     print(i,j)
 </pre>
 a.
 <pre>
 0   0
 0   1
 1   0
 1   1
 2   0
 2   1
 </pre>
 b.
 <pre>
 0   0
 1   0
 2   0
 0   1
 1   1
 2   1
 </pre>
 c.
 <pre>
 0   0
 0   1
 0   2
 1   0
 1   1
 1   2
 </pre>
 d.
 <pre>
 0   1
 0   1
 0   1
 </pre></p>
    <form name="test_question7_8_3_1_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_8_3_1_opt_a" />
    <label for= "test_question7_8_3_1_opt_a">  a) Output a</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_8_3_1_opt_b" />
    <label for= "test_question7_8_3_1_opt_b">  b) Output b</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_8_3_1_opt_c" />
    <label for= "test_question7_8_3_1_opt_c">  c) Output c</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_8_3_1_opt_d" />
    <label for= "test_question7_8_3_1_opt_d">  d) Output d</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_8_3_1','a',['i will start with a value of 0 and then j will iterate from 0 to 1.  Next, i will be 1 and j will iterate from 0 to 1.  Finally, i will be 2 and j will iterate from 0 to 1.', 'The inner for-loop controls the second digit (j).  The inner for-loop must complete before the outer for-loop advances.', 'The inner for-loop controls the second digit (j).  Notice that the inner for-loop is over the list [0, 1].', 'The outer for-loop runs 3 times (0, 1, 2) and the inner for-loop runs twice for each time the outer for-loop runs, so this code prints exactly 6 lines.'])"/> 
    </form>
    <div id="test_question7_8_3_1_feedback">
    </div>
    </div>
    
    <div id="test_question7_8_3_2">
    <p>7.8.3.2: What would the image produced from ActiveCode box 12 look like if you replaced the lines:
<pre>
newred = 255-p.getRed()
newgreen = 255-p.getGreen()
newblue = 255-p.getBlue()
</pre>
with the lines:
<pre>
newred = p.getRed()
newgreen = 0
newblue = 0
</pre></p>
    <form name="test_question7_8_3_2_form" method="get" action="" onsubmit="return false;">
    
    <input type="radio" name="group1" value="a" id="test_question7_8_3_2_opt_a" />
    <label for= "test_question7_8_3_2_opt_a">  a) It would look like a red-washed version of the bell image</label><br />
    
    <input type="radio" name="group1" value="b" id="test_question7_8_3_2_opt_b" />
    <label for= "test_question7_8_3_2_opt_b">  b) It would be a solid red rectangle the same size as the original image</label><br />
    
    <input type="radio" name="group1" value="c" id="test_question7_8_3_2_opt_c" />
    <label for= "test_question7_8_3_2_opt_c">  c) It would look the same as the original image</label><br />
    
    <input type="radio" name="group1" value="d" id="test_question7_8_3_2_opt_d" />
    <label for= "test_question7_8_3_2_opt_d">  d) It would look the same as the negative image in the example code</label><br />
    
    <input type="button" name="do answer" 
           value="Check Me" onclick="checkMCMF('test_question7_8_3_2','a',['Because we are removing the green and the blue values, but keeping the variation of the red the same, you will get the same image, but it will look like it has been bathed in red.', 'Because the red value varies from pixel to pixel, this will not look like a solid red rectangle.  For it to look like a solid red rectangle each pixel would have to have exactly the same red value.', 'If you remove the blue and green values from the pixels, the image will look different, even though there does not appear to be any blue or green in the original image (remember that other colors are made of combinations of red, green and blue).', 'Because we have changed the value of the pixels from what they were in the original ActiveCode box code, the image will not be the same.'])"/> 
    </form>
    <div id="test_question7_8_3_2_feedback">
    </div>
    </div>
    </div>
</div>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-algorithm">algorithm</dt>
<dd>A step-by-step process for solving a category of problems.</dd>
<dt id="term-body">body</dt>
<dd>The statements inside a loop.</dd>
<dt id="term-counter">counter</dt>
<dd>A variable used to count something, usually initialized to zero and
incremented in the body of a loop.</dd>
<dt id="term-cursor">cursor</dt>
<dd>An invisible marker that keeps track of where the next character will
be printed.</dd>
<dt id="term-definite-iteration">definite iteration</dt>
<dd>A loop where we have an upper bound on the number of times the
body will be executed.  Definite iteration is usually best coded
as a <tt class="docutils literal"><span class="pre">for</span></tt> loop.</dd>
<dt id="term-escape-sequence">escape sequence</dt>
<dd>An escape character, \, followed by one or more printable characters
used to designate a nonprintable character.</dd>
<dt id="term-generalize">generalize</dt>
<dd>To replace something unnecessarily specific (like a constant value)
with something appropriately general (like a variable or parameter).
Generalization makes code more versatile, more likely to be reused, and
sometimes even easier to write.</dd>
<dt id="term-infinite-loop">infinite loop</dt>
<dd>A loop in which the terminating condition is never satisfied.</dd>
<dt id="term-indefinite-iteration">indefinite iteration</dt>
<dd>A loop where we just need to keep going until some condition is met.
A <tt class="docutils literal"><span class="pre">while</span></tt> statement is used for this case.</dd>
<dt id="term-iteration">iteration</dt>
<dd>Repeated execution of a set of programming statements.</dd>
<dt id="term-loop">loop</dt>
<dd>A statement or group of statements that execute repeatedly until a
terminating condition is satisfied.</dd>
<dt id="term-loop-variable">loop variable</dt>
<dd>A variable used as part of the terminating condition of a loop.</dd>
<dt id="term-nested-loop">nested loop</dt>
<dd>A loop inside the body of another loop.</dd>
<dt id="term-newline">newline</dt>
<dd>A special character that causes the cursor to move to the beginning of
the next line.</dd>
<dt id="term-reassignment">reassignment</dt>
<dd>Making more than one assignment to the same variable during the
execution of a program.</dd>
<dt id="term-tab">tab</dt>
<dd>A special character that causes the cursor to move to the next tab stop
on the current line.</dd>
</dl>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>This chapter showed us how to sum a list of items,
and how to count items.  The counting example also had an <tt class="docutils literal"><span class="pre">if</span></tt> statement
that let us only count some selected items.  In the previous
chapter we also showed a function <tt class="docutils literal"><span class="pre">find_first_2_letter_word</span></tt> that allowed
us an &#8220;early exit&#8221; from inside a loop by using <tt class="docutils literal"><span class="pre">return</span></tt> when some condition occurred.
We now also have <tt class="docutils literal"><span class="pre">break</span></tt> to exit a loop (but not the enclosing function, and
<tt class="docutils literal"><span class="pre">continue</span></tt> to abandon the current iteration of the loop without ending the loop.</p>
<p>Composition of list traversal, summing, counting, testing conditions
and early exit is a rich collection of building blocks that can be combined
in powerful ways to create many functions that are all slightly different.</p>
<p>The first six questions are typical functions you should be able to write using only
these building blocks.</p>
<ol class="arabic">
<li><p class="first">Add a print function to Newton&#8217;s <tt class="docutils literal"><span class="pre">sqrt</span></tt> function that
prints out <tt class="docutils literal"><span class="pre">better</span></tt> each time it is calculated. Call your modified
function with 25 as an argument and record the results.</p>
<blockquote>
<div>
<button id="butt_ex_7_7" onclick="createActiveCode('ex_7_7',''); $('#butt_ex_7_7').hide();">Open Editor</button>
<div id="ex_7_7"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function <tt class="docutils literal"><span class="pre">print_triangular_numbers(n)</span></tt> that prints out the first
n triangular numbers. A call to <tt class="docutils literal"><span class="pre">print_triangular_numbers(5)</span></tt> would
produce the following output:</p>
<div class="highlight-python"><pre>1       1
2       3
3       6
4       10
5       15</pre>
</div>
<p>(<em>hint: use a web search to find out what a triangular number is.</em>)</p>

<button id="butt_ex_7_8" onclick="createActiveCode('ex_7_8',''); $('#butt_ex_7_8').hide();">Open Editor</button>
<div id="ex_7_8"></div>
<br />
</li>
<li><p class="first">Write a function, <tt class="docutils literal"><span class="pre">is_prime</span></tt>, which takes a single integer argument
and returns <tt class="docutils literal"><span class="pre">True</span></tt> when the argument is a <em>prime number</em> and <tt class="docutils literal"><span class="pre">False</span></tt>
otherwise.</p>
<blockquote>
<div>
<button id="butt_ex_7_9" onclick="createActiveCode('ex_7_9',''); $('#butt_ex_7_9').hide();">Open Editor</button>
<div id="ex_7_9"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function that will return the number of digits in an integer.</p>
<blockquote>
<div>
<button id="butt_ex_7_10" onclick="createActiveCode('ex_7_10',''); $('#butt_ex_7_10').hide();">Open Editor</button>
<div id="ex_7_10"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function <tt class="docutils literal"><span class="pre">sum_of_squares(xs)</span></tt> that computes the sum
of the squares of the numbers in the list <tt class="docutils literal"><span class="pre">xs</span></tt>.  For example,
<tt class="docutils literal"><span class="pre">sum_of_squares([2,</span> <span class="pre">3,</span> <span class="pre">4])</span></tt> should return 4+9+16 which is 29:</p>
<blockquote>
<div>
<button id="butt_ex_7_11" onclick="createActiveCode('ex_7_11',''); $('#butt_ex_7_11').hide();">Open Editor</button>
<div id="ex_7_11"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Modify the the Random turtle walk program so that the turtle turns around
when it hits the wall and goes the other direction.  This bouncing off the
walls should continue until the turtle has hit the wall 4 times.</p>
<blockquote>
<div>
<button id="butt_ex_7_12" onclick="createActiveCode('ex_7_12',''); $('#butt_ex_7_12').hide();">Open Editor</button>
<div id="ex_7_12"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Modify the previous program so that you have two turtles each with a
random starting location.  Keep the turtles moving and bouncing off the
walls until they collide with each other.</p>
<blockquote>
<div>
<button id="butt_ex_7_13" onclick="createActiveCode('ex_7_13',''); $('#butt_ex_7_13').hide();">Open Editor</button>
<div id="ex_7_13"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Modify the previous program so that rather than a left or right turn the
angle of the turn is determined randomly at each step.  When the turtle
hits the wall you must calculate the correct angle for the bounce.</p>
<blockquote>
<div>
<button id="butt_ex_7_14" onclick="createActiveCode('ex_7_14',''); $('#butt_ex_7_14').hide();">Open Editor</button>
<div id="ex_7_14"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function to remove all the red from an image.</p>
<blockquote>
<div>
<button id="butt_ex_7_15" onclick="createActiveCode('ex_7_15',''); $('#butt_ex_7_15').hide();">Open Editor</button>
<div id="ex_7_15"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function to convert the image to grayscale.</p>
<blockquote>
<div>
<button id="butt_ex_7_16" onclick="createActiveCode('ex_7_16',''); $('#butt_ex_7_16').hide();">Open Editor</button>
<div id="ex_7_16"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function to convert an image to black and white.</p>
<blockquote>
<div>
<button id="butt_ex_7_17" onclick="createActiveCode('ex_7_17',''); $('#butt_ex_7_17').hide();">Open Editor</button>
<div id="ex_7_17"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Sepia Tone images are those brownish colored images that may remind you of
times past.  The formula for creating a sepia tone is as follows:</p>
<div class="highlight-python"><pre>newR = (R × 0.393 + G × 0.769 + B × 0.189)
newG = (R × 0.349 + G × 0.686 + B × 0.168)
newB = (R × 0.272 + G × 0.534 + B × 0.131)</pre>
</div>
<p>Write a function to convert an image to sepia tone. <em>Hint:</em>
Remember that rgb values must be integers between 0 and 255.</p>
<blockquote>
<div>
<button id="butt_ex_7_18" onclick="createActiveCode('ex_7_18',''); $('#butt_ex_7_18').hide();">Open Editor</button>
<div id="ex_7_18"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function to uniformly shrink or enlarge an image.  Your function
should take an image along with a scaling factor.  To shrink the image the
scale factor should be between 0 and 1 to enlarge the image the scaling
factor should be greater than 1.</p>
<blockquote>
<div>
<button id="butt_ex_7_19" onclick="createActiveCode('ex_7_19',''); $('#butt_ex_7_19').hide();">Open Editor</button>
<div id="ex_7_19"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Write a function to rotate an image.  Your function should take an image
object along with the number of degrees to rotate.  The rotational degrees
can be positive or negative, and should be multiples of 90.</p>
<blockquote>
<div>
<button id="butt_ex_7_20" onclick="createActiveCode('ex_7_20',''); $('#butt_ex_7_20').hide();">Open Editor</button>
<div id="ex_7_20"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">After you have scaled an image too much it looks blocky.  One way of
reducing the blockiness of the image is to replace each pixel with the
average values of the pixels around it.  This has the effect of smoothing
out the changes in color.  Write a function that takes an image as a
parameter and smooths the image.  Your function should return a new image
that is the same as the old but smoothed.</p>
<blockquote>
<div>
<button id="butt_ex_7_21" onclick="createActiveCode('ex_7_21',''); $('#butt_ex_7_21').hide();">Open Editor</button>
<div id="ex_7_21"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">When you scan in images using a scanner they may have lots of noise due to
dust particles on the image itself or the scanner itself,
or the images may even be damaged.  One way of eliminating this noise is
to replace each pixel by the median value of the pixels surrounding it.</p>
<blockquote>
<div>
<button id="butt_ex_7_22" onclick="createActiveCode('ex_7_22',''); $('#butt_ex_7_22').hide();">Open Editor</button>
<div id="ex_7_22"></div>
<br />
</div></blockquote>
</li>
<li><p class="first">Research the Sobel edge detection algorithm and implement it.</p>
<blockquote>
<div>
<button id="butt_ex_7_23" onclick="createActiveCode('ex_7_23',''); $('#butt_ex_7_23').hide();">Open Editor</button>
<div id="ex_7_23"></div>
<br />
</div></blockquote>
</li>
</ol>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../Labs/sequencelab.html" title="Experimenting With the 3n+1 Sequence"
             >next</a> |</li>
        <li class="right" >
          <a href="../Labs/montepi.html" title="Approximating the Value of Pi"
             >previous</a> |</li>
        <li><a href="../index.html">How to Think Like a Computer Scientist</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/courselib/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Brad Miller, David Ranum.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>