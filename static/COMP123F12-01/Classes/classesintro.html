


<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Classes and Objects - the Basics &mdash; How to Think like a Computer Scientist: Interactive Edition</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../_static/edu-python.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme/default.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/simplemodal.js"></script>
    <script type="text/javascript" src="../_static/jquery.textarea.js"></script>
    <script type="text/javascript" src="../_static/edu-python.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/skulpt.js"></script>
    <script type="text/javascript" src="../_static/builtin.js"></script>
    <script type="text/javascript" src="../_static/assess.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="How to Think like a Computer Scientist: Interactive Edition" href="../index.html" />
    <link rel="next" title="Classes and Objects - Digging a little deeper" href="fractions.html" />
    <link rel="prev" title="Recursion" href="../Recursion/thinkpyrecursion.html" />
<script type="text/javascript"> 
eBookConfig = {}
eBookConfig.host = 'http://141.140.167.226:8000' ? 'http://141.140.167.226:8000' : 'http://127.0.0.1:8000',
eBookConfig.app = eBookConfig.host+'/courselib',
eBookConfig.ajaxURL = eBookConfig.app+'/ajax/',
eBookConfig.course = 'COMP123F12-01',
eBookConfig.logLevel = 10,
eBookConfig.loginRequired = true
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fractions.html" title="Classes and Objects - Digging a little deeper"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Recursion/thinkpyrecursion.html" title="Recursion"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">How to Think Like a Computer Scientist</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/courselib/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Classes and Objects - the Basics</a><ul>
<li><a class="reference internal" href="#object-oriented-programming">Object-oriented programming</a></li>
<li><a class="reference internal" href="#a-change-of-perspective">A change of perspective</a></li>
<li><a class="reference internal" href="#objects-revisited">Objects Revisited</a></li>
<li><a class="reference internal" href="#user-defined-classes">User Defined Classes</a></li>
<li><a class="reference internal" href="#improving-our-constructor">Improving our Constructor</a></li>
<li><a class="reference internal" href="#adding-other-methods-to-our-class">Adding Other Methods to our Class</a></li>
<li><a class="reference internal" href="#objects-as-arguments-and-parameters">Objects as Arguments and Parameters</a></li>
<li><a class="reference internal" href="#converting-an-object-to-a-string">Converting an Object to a String</a></li>
<li><a class="reference internal" href="#instances-as-return-values">Instances as Return Values</a></li>
<li><a class="reference internal" href="#glossary">Glossary</a></li>
<li><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../Recursion/thinkpyrecursion.html"
                        title="previous chapter">Recursion</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fractions.html"
                        title="next chapter">Classes and Objects - Digging a little deeper</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/Classes/classesintro.txt"
           rel="nofollow">Show Source</a></li>
  </ul><!--<div id="runestonebox">
  <h3>Runestone Links</h3>
  <ul>
    <li>
      <a href="https://github.com/bnmnetp/runestone/issues/new">Report a Problem</a>
    </li>
    <li>
      <a href="http://runestoneinteractive.org">About Runestone</a>
    </li>
    <li>
      <a href="/courselib/admin/index">Instructors Page</a>
    </li>
  </ul>
</div>
-->
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="classes-and-objects-the-basics">
<h1>Classes and Objects - the Basics<a class="headerlink" href="#classes-and-objects-the-basics" title="Permalink to this headline">¶</a></h1>
<div class="section" id="object-oriented-programming">
<span id="index-0"></span><h2>Object-oriented programming<a class="headerlink" href="#object-oriented-programming" title="Permalink to this headline">¶</a></h2>
<p>Python is an <strong>object-oriented programming language</strong>, which means that it
provides features that support <a class="reference external" href="http://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented programming</a> (<strong>OOP</strong>).</p>
<p>Object-oriented programming has its roots in the 1960s, but it wasn&#8217;t until the
mid 1980s that it became the main <a class="reference external" href="http://en.wikipedia.org/wiki/Programming_paradigm">programming paradigm</a> used in the creation
of new software. It was developed as a way to handle the rapidly increasing
size and complexity of software systems, and to make it easier to modify these
large and complex systems over time.</p>
<p>Up to now, some of the programs we have been writing use a <a class="reference external" href="http://en.wikipedia.org/wiki/Procedural_programming">procedural programming</a> paradigm. In
procedural programming the focus is on writing functions or <em>procedures</em> which
operate on data. In object-oriented programming the focus is on the creation of
<strong>objects</strong> which contain both data and functionality together.
Usually, each object definition corresponds to some object or concept in the real
world and the functions that operate on that object correspond to the ways
real-world objects interact.</p>
</div>
<div class="section" id="a-change-of-perspective">
<h2>A change of perspective<a class="headerlink" href="#a-change-of-perspective" title="Permalink to this headline">¶</a></h2>
<p>Throughout the earlier chapters, we wrote functions and called them using a syntax such as <tt class="docutils literal"><span class="pre">drawCircle(tess)</span></tt>.  This suggests that the
function is the active agent. It says something like, <em>&#8220;Hey, drawCircle!
Here&#8217;s a turtle object for you to use to draw with.&#8221;</em></p>
<p>In object-oriented programming, the objects are considered the active agents.
For example, in our early introduction to turtles, we used
an object-oriented style, so that we said <tt class="docutils literal"><span class="pre">tess.forward(100)</span></tt>, which
asks the turtle to move itself forward by the given number of steps.
An
invocation like <tt class="docutils literal"><span class="pre">tess.circle()</span></tt> says <em>&#8220;Hey tess!
Please use your circle method!&#8221;</em></p>
<p>This change in perspective might be more polite, but it may not initially
be obvious that it is useful. Often times shifting responsibility from
the functions onto the objects makes it possible to write more versatile
functions and makes it easier to maintain and reuse code.</p>
<p>The most important advantage of the object-oriented style is that it
fits our mental chunking and real-life experience more accurately.
In real life our <tt class="docutils literal"><span class="pre">cook</span></tt> method is part of our microwave oven &#8212; we don&#8217;t
have a <tt class="docutils literal"><span class="pre">cook</span></tt> function sitting in the corner of the kitchen, into which
we pass the microwave!  Similarly, we use the cellphone&#8217;s own methods
to send an sms, or to change its state to silent.  The functionality
of real-world objects tends to be tightly bound up inside the objects
themselves.  OOP allows us to accurately mirror this when we
organize our programs.</p>
</div>
<div class="section" id="objects-revisited">
<h2>Objects Revisited<a class="headerlink" href="#objects-revisited" title="Permalink to this headline">¶</a></h2>
<p>In Python, every value is actually an object. Whether it be a turtle, a list, or even an integer, they are all objects.  Programs manipulate those objects either by performing
computation with them or by asking them to perform methods.  To be more specific, we say that an object has
a <strong>state</strong> and a collection of <strong>methods</strong> that it can perform.  The state of an object represents those things
that the object knows about itself.  For example, as we have seen with turtle objects, each turtle has a state consisting
of the turtle&#8217;s position, its color, its heading and so on.  Each turtle also has the ability to go forward, backward, or turn right or left.  Individual turtles are different in that even though they are
all turtles, they differ in the values of the individual state values (maybe they are in a different location or have a different heading).</p>
<img alt="Simple object has state and methods" src="../_images/objectpic1.png" />
</div>
<div class="section" id="user-defined-classes">
<span id="index-1"></span><h2>User Defined Classes<a class="headerlink" href="#user-defined-classes" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;ve already seen classes like <tt class="docutils literal"><span class="pre">str</span></tt>, <tt class="docutils literal"><span class="pre">int</span></tt>, <tt class="docutils literal"><span class="pre">float</span></tt> and <tt class="docutils literal"><span class="pre">Turtle</span></tt>.  These were defined by Python and
made available for us to use.  However, in many cases when we are solving problems we need to create data objects
that are related to the problem we are trying to solve.  We need to create our own class.</p>
<p>As an example, consider the concept of a mathematical point. In two dimensions, a point is two
numbers (coordinates) that are treated collectively as a single object.
Points are often written in parentheses with a comma
separating the coordinates. For example, <tt class="docutils literal"><span class="pre">(0,</span> <span class="pre">0)</span></tt> represents the origin, and
<tt class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></tt> represents the point <tt class="docutils literal"><span class="pre">x</span></tt> units to the right and <tt class="docutils literal"><span class="pre">y</span></tt> units up
from the origin.  This <tt class="docutils literal"><span class="pre">(x,y)</span></tt> is the state of the point.</p>
<p>Thinking about our diagram above, we could draw a <tt class="docutils literal"><span class="pre">point</span></tt> object as shown here.</p>
<img alt="A point has an x and a y" src="../_images/objectpic2.png" />
<p>Some of the typical operations that one associates with points might be to ask
the point for its x coordinate, <tt class="docutils literal"><span class="pre">getX</span></tt>, or to ask for its y coordinate, <tt class="docutils literal"><span class="pre">getY</span></tt>.  You may also
calculating the distance of a point from the origin, or from another point,
or finding a midpoint of two points, or asking if a point falls within a
given rectangle or circle.  We&#8217;ll shortly see how we can organize these
together with the data.</p>
<img alt="A point also has methods" src="../_images/objectpic3.png" />
<p>Now that we understand what a <tt class="docutils literal"><span class="pre">point</span></tt> object might look like, we can define a new <strong>class</strong>.
We&#8217;ll want our points to each have an <tt class="docutils literal"><span class="pre">x</span></tt> and a <tt class="docutils literal"><span class="pre">y</span></tt> attribute,
so our first class definition looks like this.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; Point class for representing and manipulating x,y coordinates. &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Create a new point at the origin &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</td></tr></table></div>
<p>Class definitions can appear anywhere in a program, but they are usually near
the beginning (after the <tt class="docutils literal"><span class="pre">import</span></tt> statements). The syntax rules for a class
definition are the same as for other compound statements. There is a header
which begins with the keyword, <tt class="docutils literal"><span class="pre">class</span></tt>, followed by the name of the class,
and ending with a colon.</p>
<p>If the first line after the class header is a string, it becomes
the docstring of the class, and will be recognized by various tools.  (This
is also the way docstrings work in functions.)</p>
<p>Every class should have a method with the special name <tt class="docutils literal"><span class="pre">__init__</span></tt>.
This <strong>initializer method</strong>, often referred to as the <strong>constructor</strong>, is automatically called whenever a new
instance of <tt class="docutils literal"><span class="pre">Point</span></tt> is created.  It gives the programmer the opportunity
to set up the attributes required within the new instance by giving them
their initial state / values.  The <tt class="docutils literal"><span class="pre">self</span></tt> parameter (you could choose any
other name, but nobody ever does!) is automatically set to reference
the newly created object that needs to be initialized.</p>
<p>So let&#8217;s use our new Point class now.</p>

<div id="chp13_classes1" >
<textarea cols="50" rows="12" id="chp13_classes1_code" class="active_code">
class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self):

        self.x = 0
        self.y = 0

p = Point()         # Instantiate an object of type Point
q = Point()         # and make a second point

print("Nothing seems to have happened with the points")

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classes1)</span> </p>
<button onclick="runit('chp13_classes1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classes1');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classes1');">Load</button>
<br />

<canvas id="chp13_classes1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classes1_pre" class="active_out">

</pre>

</div>

<p>During the initialization of the objects, we created two
attributes called <cite>x</cite> and <cite>y</cite> for each, and gave them both the value 0.  You will note that when you run the
program, nothing happens.  It turns out that this is not quite the case.  In fact, two <tt class="docutils literal"><span class="pre">Points</span></tt> have been created, each
having an x and y coordinate with value 0.  However, because we have not asked the point to do anything, we don&#8217;t see any other result.</p>
<img alt="Simple object has state and methods" src="../_images/objectpic4.png" />
<p>The following program adds a few print statements. You can see that the output suggests that each one is a <tt class="docutils literal"><span class="pre">Point</span> <span class="pre">object</span></tt>.
However, notice that the <tt class="docutils literal"><span class="pre">is</span></tt> operator returns <tt class="docutils literal"><span class="pre">False</span></tt> meaning that they are different objects (we will have more to say about this in a later chapter).</p>

<div id="chp13_classes2" >
<textarea cols="50" rows="12" id="chp13_classes2_code" class="active_code">
class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self):

        self.x = 0
        self.y = 0

p = Point()         # Instantiate an object of type Point
q = Point()         # and make a second point

print(p)
print(q)

print(p is q)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classes2)</span> </p>
<button onclick="runit('chp13_classes2',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classes2');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classes2');">Load</button>
<br />

<canvas id="chp13_classes2_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classes2_pre" class="active_out">

</pre>

</div>

<p>This should look familiar &#8212; we&#8217;ve used classes before to create
more than one object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">turtle</span> <span class="kn">import</span> <span class="n">Turtle</span>

<span class="n">tess</span> <span class="o">=</span> <span class="n">Turtle</span><span class="p">()</span>     <span class="c"># Instantiate objects of type Turtle</span>
<span class="n">alex</span> <span class="o">=</span> <span class="n">Turtle</span><span class="p">()</span>
</pre></div>
</div>
<p>The variables <tt class="docutils literal"><span class="pre">p</span></tt> and <tt class="docutils literal"><span class="pre">q</span></tt> are assigned references to two new <tt class="docutils literal"><span class="pre">Point</span></tt> objects.
A function like <tt class="docutils literal"><span class="pre">Turtle</span></tt> or <tt class="docutils literal"><span class="pre">Point</span></tt> that creates a new object instance
is called a <strong>constructor</strong>, and every class automatically provides a
constructor function which is named the same as the class.</p>
<p>It may be helpful to think of a class as a factory for making objects.
The class itself isn&#8217;t an instance of a point, but it contains the machinery
to make point instances.   Every time you call the constructor, you&#8217;re asking
the factory to make you a new object.  As the object comes off the
production line, its initialization method is executed to
get the object properly set up with it&#8217;s factory default settings.</p>
<p>The combined process of &#8220;make me a new object&#8221; and &#8220;get its settings initialized
to the factory default settings&#8221; is called <strong>instantiation</strong>.</p>
</div>
<div class="section" id="improving-our-constructor">
<h2>Improving our Constructor<a class="headerlink" href="#improving-our-constructor" title="Permalink to this headline">¶</a></h2>
<p>Our constructor so far can only create points at location <tt class="docutils literal"><span class="pre">(0,0)</span></tt>.  To create a point at position (7, 6) requires that we
provide some additional capability for the use to pass information to the constructor.  Since constructors are simply specially named functions, we can use parameters (as we&#8217;ve seen before) to provide the specific information.</p>
<p>We can make our class constructor more general by putting extra parameters into
the <tt class="docutils literal"><span class="pre">__init__</span></tt> method, as shown in this example.</p>

<div id="chp13_classes3" >
<textarea cols="50" rows="12" id="chp13_classes3_code" class="active_code">
class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self, initX, initY):

        self.x = initX
        self.y = initY

p = Point(7,6)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classes3)</span> </p>
<button onclick="runit('chp13_classes3',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classes3');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classes3');">Load</button>
<br />

<canvas id="chp13_classes3_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classes3_pre" class="active_out">

</pre>

</div>

<p>Now when we create new points, we supply the x and y coordinates as parameters.  When the point is created, the values of <tt class="docutils literal"><span class="pre">initX</span></tt> and <tt class="docutils literal"><span class="pre">initY</span></tt> are assigned to the state of the object.</p>
<img alt="Simple object has state and methods" src="../_images/objectpic5.png" />
</div>
<div class="section" id="adding-other-methods-to-our-class">
<h2>Adding Other Methods to our Class<a class="headerlink" href="#adding-other-methods-to-our-class" title="Permalink to this headline">¶</a></h2>
<p>The key advantage of using a class like <tt class="docutils literal"><span class="pre">Point</span></tt> rather than something like a simple
tuple <tt class="docutils literal"><span class="pre">(7,</span> <span class="pre">6)</span></tt> now becomes apparent.  We can add methods to
the <tt class="docutils literal"><span class="pre">Point</span></tt> class that are sensible operations for points.  Had we chosen to use a simple
tuple to represent the point, we would not have this capability.
Creating a class like <tt class="docutils literal"><span class="pre">Point</span></tt> brings an exceptional
amount of &#8220;organizational power&#8221; to our programs, and to our thinking.
We can group together the sensible operations, and the kinds of data
they apply to, and each instance of the class can have its own state.</p>
<p>A <strong>method</strong> behaves like a function but it is invoked on a specific
instance.  For example, with a turtle named <tt class="docutils literal"><span class="pre">tesss</span></tt>,  <tt class="docutils literal"><span class="pre">tess.right(90)</span></tt> asks the <tt class="docutils literal"><span class="pre">tess</span></tt> object to perform its
<tt class="docutils literal"><span class="pre">right</span></tt> method and turn 90 degrees.   Methods are accessed using dot notation.</p>
<p>Let&#8217;s add two simple methods to allow a point to give us information about its state.  The <tt class="docutils literal"><span class="pre">getX</span></tt> method, when invoked, will return the value of the x coordinate.  The implementation of this method is straight forward since we already know how
to write functions that return values.  One thing to notice is that even though the <tt class="docutils literal"><span class="pre">getX</span></tt> method does not need any other parameter information to do its work, there is still one formal parameter, <tt class="docutils literal"><span class="pre">self</span></tt>.  As we stated earlier, all method defined in a class that operate on objects of that class will have <tt class="docutils literal"><span class="pre">self</span></tt> as their first parameter.  Again, this serves as reference to the object itself which in turn gives access to the state data inside the object.</p>

<div id="chp13_classes4" >
<textarea cols="50" rows="12" id="chp13_classes4_code" class="active_code">
class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self, initX, initY):

        self.x = initX
        self.y = initY

    def getX(self):
        return self.x

    def getY(self):
        return self.y


p = Point(7,6)
print(p.getX())
print(p.getY())

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classes4)</span> </p>
<button onclick="runit('chp13_classes4',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classes4');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classes4');">Load</button>
<br />

<canvas id="chp13_classes4_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classes4_pre" class="active_out">

</pre>

</div>

<p>Likewise, the <tt class="docutils literal"><span class="pre">getY</span></tt> method will look the same.</p>
<p>Let&#8217;s add another method, <tt class="docutils literal"><span class="pre">distanceFromOrigin</span></tt>, to see better how methods
work.  This method will again not need any additional information to do its work.
It will perform a more complex task.</p>

<div id="chp13_classes5" >
<textarea cols="50" rows="12" id="chp13_classes5_code" class="active_code">
class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self, initX, initY):

        self.x = initX
        self.y = initY

    def getX(self):
        return self.x

    def getY(self):
        return self.y

    def distanceFromOrigin(self):
        return ((self.x ** 2) + (self.y ** 2)) ** 0.5


p = Point(7,6)
print(p.distanceFromOrigin())

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classes5)</span> </p>
<button onclick="runit('chp13_classes5',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classes5');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classes5');">Load</button>
<br />

<canvas id="chp13_classes5_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classes5_pre" class="active_out">

</pre>

</div>

<p>Notice that the caller of <tt class="docutils literal"><span class="pre">distanceFromOrigin</span></tt> does not explicitly
supply an argument to match the <tt class="docutils literal"><span class="pre">self</span></tt> parameter.  This is true of all method calls. The definition will always
have one additional parameter as compared to the invocation.</p>
</div>
<div class="section" id="objects-as-arguments-and-parameters">
<h2>Objects as Arguments and Parameters<a class="headerlink" href="#objects-as-arguments-and-parameters" title="Permalink to this headline">¶</a></h2>
<p>You can pass an object as a argument in the usual way.  We&#8217;ve already seen
this in some of the turtle examples, where we passed the turtle to
some function like <tt class="docutils literal"><span class="pre">drawRectangle</span></tt> so that the function could
control and use whatever turtle instance we passed to it.</p>
<p>Here is a simple function involving our new <tt class="docutils literal"><span class="pre">Point</span></tt> objects.</p>

<div id="chp13_classes6" >
<textarea cols="50" rows="12" id="chp13_classes6_code" class="active_code">
import math

class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self, initX, initY):

        self.x = initX
        self.y = initY

    def getX(self):
        return self.x

    def getY(self):
        return self.y

    def distanceFromOrigin(self):
        return ((self.x ** 2) + (self.y ** 2)) ** 0.5

def distance(point1, point2):
    xdiff = point2.getX()-point1.getX()
    ydiff = point2.getY()-point1.getY()

    dist = math.sqrt(xdiff**2 + ydiff**2)
    return dist

p = Point(4,3)
q = Point(0,0)
print(distance(p,q))

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classes6)</span> </p>
<button onclick="runit('chp13_classes6',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classes6');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classes6');">Load</button>
<br />

<canvas id="chp13_classes6_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classes6_pre" class="active_out">

</pre>

</div>

<p><tt class="docutils literal"><span class="pre">distance</span></tt> takes two points and returns the distance between them.  Note that <tt class="docutils literal"><span class="pre">distance</span></tt> is <strong>not</strong> a method of the Point class.  You can see this by looking at the indentation pattern.  It is not inside the class definition.  The other way we
can know that <tt class="docutils literal"><span class="pre">distance</span></tt> is not a method of Point is that <tt class="docutils literal"><span class="pre">self</span></tt> is not included as a formal parameter.  In addition, we do not invoke <tt class="docutils literal"><span class="pre">distance</span></tt> using the dot notation.</p>
</div>
<div class="section" id="converting-an-object-to-a-string">
<h2>Converting an Object to a String<a class="headerlink" href="#converting-an-object-to-a-string" title="Permalink to this headline">¶</a></h2>
<p>Most object-oriented programmers probably would not do what we&#8217;ve just done in <tt class="docutils literal"><span class="pre">print_point</span></tt>.
When we&#8217;re working with classes and objects, a preferred alternative
is to add a new method to the class.  And we don&#8217;t like chatterbox methods that call
<tt class="docutils literal"><span class="pre">print</span></tt>.  A better approach is to have a method so that every instance
can produce a string representation of itself.  Let&#8217;s initially
call it <tt class="docutils literal"><span class="pre">to_string</span></tt>:</p>

<div id="chp13_classesstr1" >
<textarea cols="50" rows="12" id="chp13_classesstr1_code" class="active_code">
class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self, initX, initY):

        self.x = initX
        self.y = initY

    def getX(self):
        return self.x

    def getY(self):
        return self.y

    def distanceFromOrigin(self):
        return ((self.x ** 2) + (self.y ** 2)) ** 0.5


p = Point(7,6)
print(p)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classesstr1)</span> </p>
<button onclick="runit('chp13_classesstr1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classesstr1');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classesstr1');">Load</button>
<br />

<canvas id="chp13_classesstr1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classesstr1_pre" class="active_out">

</pre>

</div>

<p>The <tt class="docutils literal"><span class="pre">print</span></tt> function shown above produces a string representation of the Point <tt class="docutils literal"><span class="pre">p</span></tt>.  The default provided by
Python tells you that <tt class="docutils literal"><span class="pre">p</span></tt> is an object of type <tt class="docutils literal"><span class="pre">Point</span></tt>.  However, it does not tell you anything about the specific
state of the point.</p>
<p>We can improve on this representation if we include a special method call <tt class="docutils literal"><span class="pre">__str__</span></tt>.  Notice that this method uses the same naming convention as the constructor, that is two underscores before and after the name.  It is common that Python
uses this naming technique for special methods.</p>
<p>The <tt class="docutils literal"><span class="pre">__str__</span></tt> method is responsible for returning a string representation as defined by the class creator.  In other words, you as the programmer, get to choose what a <tt class="docutils literal"><span class="pre">Point</span></tt> should look like when it gets printed.  In this case, we
have decided that the string representation will include the values of x and y as well as some identifying text.  It
is required that the <tt class="docutils literal"><span class="pre">__str__</span></tt> method create and <em>return</em> a string.</p>

<div id="chp13_classesstr2" >
<textarea cols="50" rows="12" id="chp13_classesstr2_code" class="active_code">
class Point:
    """ Point class for representing and manipulating x,y coordinates. """

    def __init__(self, initX, initY):

        self.x = initX
        self.y = initY

    def getX(self):
        return self.x

    def getY(self):
        return self.y

    def distanceFromOrigin(self):
        return ((self.x ** 2) + (self.y ** 2)) ** 0.5

    def __str__(self):
        return "x=" + str(self.x) + ", y=" + str(self.y)

p = Point(7,6)
print(p)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classesstr2)</span> </p>
<button onclick="runit('chp13_classesstr2',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classesstr2');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classesstr2');">Load</button>
<br />

<canvas id="chp13_classesstr2_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classesstr2_pre" class="active_out">

</pre>

</div>

<p>When we run the program above you can see that the <tt class="docutils literal"><span class="pre">print</span></tt> function now shows the string that we chose.</p>
<p>Now, you ask, don&#8217;t we already have an <tt class="docutils literal"><span class="pre">str</span></tt> type converter that can
turn our object into a string?  Yes we do!</p>
<p>And doesn&#8217;t <tt class="docutils literal"><span class="pre">print</span></tt>
automatically use this when printing things?  Yes again!</p>
<p>But these automatic mechanisms do not yet do exactly what we want.  Python provides many default implementations for
methods that we as programmers will probably want to change.  When a programmer changes the meaning of a special method we
say that we <strong>override</strong> the method.  Note also that the <tt class="docutils literal"><span class="pre">str</span></tt> type converter function uses whatever <tt class="docutils literal"><span class="pre">__str__</span></tt> method we
provide.</p>
</div>
<div class="section" id="instances-as-return-values">
<h2>Instances as Return Values<a class="headerlink" href="#instances-as-return-values" title="Permalink to this headline">¶</a></h2>
<p>Functions and methods can return objects.  This is actually nothing new since everything in Python is an object and we have
been returning values for quite some time.  The difference here is that we want to have the method create an object using
the constructor and then return it as the value of the method.</p>
<p>Suppose you have a point object
and wish to find the midpoint halfway between it and some other target point.  We would like to write a method, call
it <tt class="docutils literal"><span class="pre">halfway</span></tt> that takes another <tt class="docutils literal"><span class="pre">Point</span></tt> as a parameter and returns the <tt class="docutils literal"><span class="pre">Point</span></tt> that is halfway between the point and
the target.</p>

<div id="chp13_classesmid1" >
<textarea cols="50" rows="12" id="chp13_classesmid1_code" class="active_code">
class Point:

    def __init__(self, initX, initY):

        self.x = initX
        self.y = initY

    def getX(self):
        return self.x

    def getY(self):
        return self.y

    def distanceFromOrigin(self):
        return ((self.x ** 2) + (self.y ** 2)) ** 0.5

    def __str__(self):
        return "x=" + str(self.x) + ", y=" + str(self.y)

    def halfway(self, target):
         mx = (self.x + target.x)/2
         my = (self.y + target.y)/2
         return Point(mx, my)

p = Point(3,4)
q = Point(5,12)
mid = p.halfway(q)

print(mid)
print(mid.getX())
print(mid.getY())

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (chp13_classesmid1)</span> </p>
<button onclick="runit('chp13_classesmid1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('chp13_classesmid1');">Save</button>
<button class="ac_opt" onclick="requestCode('chp13_classesmid1');">Load</button>
<br />

<canvas id="chp13_classesmid1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="chp13_classesmid1_pre" class="active_out">

</pre>

</div>

<p>The resulting Point, <tt class="docutils literal"><span class="pre">mid</span></tt>, has an x value of 4 and a y value of 8.  We can also use any other methods since <tt class="docutils literal"><span class="pre">mid</span></tt> is a
<tt class="docutils literal"><span class="pre">Point</span></tt> object.</p>
</div>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-attribute">attribute</dt>
<dd>One of the named data items that makes up an instance.</dd>
<dt id="term-class">class</dt>
<dd>A user-defined compound type. A class can also be thought of as a
template for the objects that are instances of it. (The iPhone is
a class. By December 2010, estimates are that 50 million instances
had been sold!)</dd>
<dt id="term-constructor">constructor</dt>
<dd>Every class has a &#8220;factory&#8221;, called by the same name as the class, for
making new instances.  If the class has an <em>initializer method</em>, this method
is used to get the attributes (i.e. the state) of the new object properly set up.</dd>
<dt id="term-initializer-method">initializer method</dt>
<dd>A special method in Python (called <tt class="docutils literal"><span class="pre">__init__</span></tt>)
that is invoked automatically to set a newly created object&#8217;s
attributes to their initial (factory-default) state.</dd>
<dt id="term-instance">instance</dt>
<dd>An object whose type is of some class.  Instance and object are used
interchangeably.</dd>
<dt id="term-instantiate">instantiate</dt>
<dd>To create an instance of a class, and to run its initializer.</dd>
<dt id="term-method">method</dt>
<dd>A function that is defined inside a class definition and is invoked on
instances of that class.</dd>
<dt id="term-object">object</dt>
<dd>A compound data type that is often used to model a thing or concept in
the real world.  It bundles together the data and the operations that
are relevant for that kind of data.  Instance and object are used
interchangeably.</dd>
<dt id="term-object-oriented-programming">object-oriented programming</dt>
<dd>A powerful style of programming in which data and the operations
that manipulate it are organized into classes and methods.</dd>
<dt id="term-object-oriented-language">object-oriented language</dt>
<dd>A language that provides features, such as user-defined classes and
inheritance, that facilitate object-oriented programming.</dd>
</dl>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Rewrite the <tt class="docutils literal"><span class="pre">distance</span></tt> function from chapter 5 so that it takes two
<tt class="docutils literal"><span class="pre">Point</span></tt>s as parameters instead of four numbers.</p>
</li>
<li><p class="first">Add a method <tt class="docutils literal"><span class="pre">reflect_x</span></tt> to Point which returns a new Point, one which is the
reflection of the point about the x-axis.  For example,
<tt class="docutils literal"><span class="pre">Point(3,</span> <span class="pre">5).reflect_x()</span></tt> is (3, -5)</p>
</li>
<li><p class="first">Add a method <tt class="docutils literal"><span class="pre">slope_from_origin</span></tt> which returns the slope of the line joining the origin
to the point.   For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">slope_from_origin</span><span class="p">()</span>
<span class="go">2.5</span>
</pre></div>
</div>
<p>What cases will cause your method to fail?</p>
</li>
<li><p class="first">The equation of a straight line is  &#8220;y = ax + b&#8221;, (or perhaps &#8220;y = mx + c&#8221;).
The coefficients a and b completely describe the line.  Write a method in the
Point class so that if a point instance is given another point, it will compute the equation
of the straight line joining the two points.  It must return the two coefficients as a tuple
of two values.  For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span><span class="o">.</span><span class="n">get_line_to</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>This tells us that the equation of the line joining the two points is &#8220;y = 2x + 3&#8221;.
When will your method fail?</p>
</li>
<li><p class="first">Given four points that fall on the circumference of a circle, find the midpoint of the circle.
When will you function fail?</p>
<p><em>Hint:</em> You <em>must</em>
know how to solve the geometry problem <em>before</em> you think of going anywhere near programming.
You cannot program a solution to a problem if you don&#8217;t understand what you want the computer to do!</p>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fractions.html" title="Classes and Objects - Digging a little deeper"
             >next</a> |</li>
        <li class="right" >
          <a href="../Recursion/thinkpyrecursion.html" title="Recursion"
             >previous</a> |</li>
        <li><a href="../index.html">How to Think Like a Computer Scientist</a> &raquo;</li>
<li class="right"><span class="loginout"><a href="/courselib/default/user/logout">logout</a></span>| </li>

      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Brad Miller, David Ranum.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>